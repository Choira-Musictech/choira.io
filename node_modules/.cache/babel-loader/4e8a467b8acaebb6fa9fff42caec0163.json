{"ast":null,"code":"var _jsxFileName = \"E:\\\\ui\\\\src\\\\components\\\\signin\\\\OptVerify.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst OptVerify = ({\n  mobileNumber,\n  countryCode,\n  onOTPVerified,\n  setCheckOtp,\n  checkOtp\n}) => {\n  _s();\n  const [seconds, setSeconds] = useState(30);\n  const [generatedOTP, setGeneratedOTP] = useState(\"\");\n  const [enteredOTP, setEnteredOTP] = useState(\"\");\n  const inputRefs = useRef([]);\n  useEffect(() => {\n    // Generate a random OTP when the component mounts\n    generateOTP();\n\n    // Start the timer\n    const timer = setInterval(() => {\n      setSeconds(prevSeconds => prevSeconds > 0 ? prevSeconds - 1 : 0);\n    }, 1000);\n\n    // Clear the interval when the component is unmounted\n    return () => clearInterval(timer);\n  }, []);\n  useEffect(() => {\n    // Set focus to the next input when enteredOTP changes\n    if (enteredOTP.length < inputRefs.current.length) {\n      inputRefs.current[enteredOTP.length].focus();\n    }\n  }, [enteredOTP]);\n  const generateOTP = () => {\n    const otp = Math.floor(Math.random() * 10000).toString().padStart(4, \"0\");\n    console.log(otp);\n    alert(\"your otp is \" + otp);\n    setGeneratedOTP(otp);\n  };\n  const restartTimer = () => {\n    // Reset the timer to its initial value and generate a new OTP\n    setSeconds(30);\n    generateOTP();\n  };\n  const handleOTPChange = (index, value) => {\n    // Handle OTP input change\n    const newEnteredOTP = enteredOTP.split(\"\");\n    newEnteredOTP[index] = value;\n    setEnteredOTP(newEnteredOTP.join(\"\"));\n  };\n  const handleBackspace = index => {\n    // Handle Backspace key\n    if (index > 0) {\n      const newEnteredOTP = enteredOTP.split(\"\");\n      newEnteredOTP[index - 1] = \"\";\n      setEnteredOTP(newEnteredOTP.join(\"\"));\n      inputRefs.current[index - 1].focus();\n    } else if (index === 0) {\n      setEnteredOTP(\"\");\n    }\n  };\n  useEffect(() => {\n    if (checkOtp === false) {\n      if (enteredOTP === generatedOTP) {\n        // If OTP is correct, you can perform an action here\n        console.log(\"OTP is correct. Redirect or perform another action.\");\n        alert(\"OTP is correct. Redirect or perform another action.\");\n        setCheckOtp(false);\n      } else {\n        // If OTP is incorrect, you can handle it (e.g., show an error message)\n        console.log(\"Incorrect OTP. Please try again.\");\n        alert(\"Incorrect OTP. Please try again.\");\n        setCheckOtp(true);\n      }\n    }\n  }, [checkOtp]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"enter-mob-inner-div2\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"verify2\",\n        children: /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Verify your mobile number\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h6\", {\n          children: [\"Please enter the 4-digit verification code sent to\", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: [\"+\", countryCode, \" \", mobileNumber]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"verify2-input\",\n        children: [...Array(4)].map((_, index) => /*#__PURE__*/_jsxDEV(\"input\", {\n          required: true,\n          type: \"text\",\n          maxLength: \"1\",\n          pattern: \"\\\\d*\",\n          value: enteredOTP[index] || \"\",\n          onChange: e => handleOTPChange(index, e.target.value),\n          onKeyDown: e => {\n            if (e.key === \"Backspace\") {\n              e.preventDefault();\n              handleBackspace(index);\n            }\n          },\n          ref: el => inputRefs.current[index] = el\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"timer\",\n        children: seconds > 0 ? /*#__PURE__*/_jsxDEV(\"h6\", {\n          children: [\"Expect code in \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: [\" \", seconds, \" seconds\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 30\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"h6\", {\n          onClick: restartTimer,\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Resend\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(OptVerify, \"VeMk2vSjioSDSVNJOsy6ybEt55Y=\");\n_c = OptVerify;\nexport default OptVerify;\nvar _c;\n$RefreshReg$(_c, \"OptVerify\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","Fragment","_Fragment","OptVerify","mobileNumber","countryCode","onOTPVerified","setCheckOtp","checkOtp","_s","seconds","setSeconds","generatedOTP","setGeneratedOTP","enteredOTP","setEnteredOTP","inputRefs","generateOTP","timer","setInterval","prevSeconds","clearInterval","length","current","focus","otp","Math","floor","random","toString","padStart","console","log","alert","restartTimer","handleOTPChange","index","value","newEnteredOTP","split","join","handleBackspace","children","className","fileName","_jsxFileName","lineNumber","columnNumber","Array","map","_","required","type","maxLength","pattern","onChange","e","target","onKeyDown","key","preventDefault","ref","el","onClick","_c","$RefreshReg$"],"sources":["E:/ui/src/components/signin/OptVerify.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nconst OptVerify = ({\r\n  mobileNumber,\r\n  countryCode,\r\n  onOTPVerified,\r\n  setCheckOtp,\r\n  checkOtp,\r\n}) => {\r\n  const [seconds, setSeconds] = useState(30);\r\n  const [generatedOTP, setGeneratedOTP] = useState(\"\");\r\n  const [enteredOTP, setEnteredOTP] = useState(\"\");\r\n  const inputRefs = useRef([]);\r\n\r\n  useEffect(() => {\r\n    // Generate a random OTP when the component mounts\r\n    generateOTP();\r\n\r\n    // Start the timer\r\n    const timer = setInterval(() => {\r\n      setSeconds((prevSeconds) => (prevSeconds > 0 ? prevSeconds - 1 : 0));\r\n    }, 1000);\r\n\r\n    // Clear the interval when the component is unmounted\r\n    return () => clearInterval(timer);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // Set focus to the next input when enteredOTP changes\r\n    if (enteredOTP.length < inputRefs.current.length) {\r\n      inputRefs.current[enteredOTP.length].focus();\r\n    }\r\n  }, [enteredOTP]);\r\n\r\n  const generateOTP = () => {\r\n    const otp = Math.floor(Math.random() * 10000)\r\n      .toString()\r\n      .padStart(4, \"0\");\r\n    console.log(otp);\r\n    alert(\"your otp is \" + otp);\r\n    setGeneratedOTP(otp);\r\n  };\r\n\r\n  const restartTimer = () => {\r\n    // Reset the timer to its initial value and generate a new OTP\r\n    setSeconds(30);\r\n    generateOTP();\r\n  };\r\n\r\n  const handleOTPChange = (index, value) => {\r\n    // Handle OTP input change\r\n    const newEnteredOTP = enteredOTP.split(\"\");\r\n    newEnteredOTP[index] = value;\r\n    setEnteredOTP(newEnteredOTP.join(\"\"));\r\n  };\r\n\r\n  const handleBackspace = (index) => {\r\n    // Handle Backspace key\r\n    if (index > 0) {\r\n      const newEnteredOTP = enteredOTP.split(\"\");\r\n      newEnteredOTP[index - 1] = \"\";\r\n      setEnteredOTP(newEnteredOTP.join(\"\"));\r\n      inputRefs.current[index - 1].focus();\r\n    } else if (index === 0) {\r\n      setEnteredOTP(\"\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (checkOtp === false) {\r\n      if (enteredOTP === generatedOTP) {\r\n        // If OTP is correct, you can perform an action here\r\n        console.log(\"OTP is correct. Redirect or perform another action.\");\r\n        alert(\"OTP is correct. Redirect or perform another action.\");\r\n        setCheckOtp(false);\r\n      } else {\r\n        // If OTP is incorrect, you can handle it (e.g., show an error message)\r\n        console.log(\"Incorrect OTP. Please try again.\");\r\n        alert(\"Incorrect OTP. Please try again.\");\r\n        setCheckOtp(true);\r\n      }\r\n    }\r\n  }, [checkOtp]);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"enter-mob-inner-div2\">\r\n        <div className=\"verify2\">\r\n          <h4>Verify your mobile number</h4>\r\n        </div>\r\n        <div>\r\n          <h6>\r\n            Please enter the 4-digit verification code sent to\r\n            <b>\r\n              +{countryCode} {mobileNumber}\r\n            </b>\r\n          </h6>\r\n        </div>\r\n        <div className=\"verify2-input\">\r\n          {[...Array(4)].map((_, index) => (\r\n            <input\r\n              required\r\n              key={index}\r\n              type=\"text\"\r\n              maxLength=\"1\"\r\n              pattern=\"\\d*\"\r\n              value={enteredOTP[index] || \"\"}\r\n              onChange={(e) => handleOTPChange(index, e.target.value)}\r\n              onKeyDown={(e) => {\r\n                if (e.key === \"Backspace\") {\r\n                  e.preventDefault();\r\n                  handleBackspace(index);\r\n                }\r\n              }}\r\n              ref={(el) => (inputRefs.current[index] = el)}\r\n            />\r\n          ))}\r\n        </div>\r\n        <div className=\"timer\">\r\n          {seconds > 0 ? (\r\n            <h6>\r\n              Expect code in <b> {seconds} seconds</b>\r\n            </h6>\r\n          ) : (\r\n            <h6 onClick={restartTimer}>\r\n              <span>Resend</span>\r\n            </h6>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default OptVerify;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}