(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[9],{1197:function(e,t,s){},1198:function(e,t,s){},1199:function(e,t,s){},1200:function(e,t,s){},1201:function(e,t,s){},1227:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return Be}));var a=s(1),c=s.n(a),l=s(696),i=s.n(l),n=s(665),r=s(700),d=s(642),o=(s(663),s(1197),s(82)),h=(s(737),s(675),s(37)),j=s.n(h),p=(s(1198),s(2));function b(e){var t;const{userId:s,goBack:c}=e,[l,i]=Object(a.useState)({}),n=o.a;return Object(a.useEffect)((()=>{j.a.get(o.c+"customer/"+s).then((e=>{i(e.data),console.log(e.data)}))}),[s]),Object(p.jsx)("div",{className:"card",children:Object(p.jsx)("div",{className:"card-body ",children:Object(p.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-capitalize",children:Object(p.jsxs)("div",{className:"panel panel-default cart-border",children:[Object(p.jsx)("div",{className:"panel-heading panel-style",children:Object(p.jsxs)("h3",{style:{color:"#ffc701"},children:[Object(p.jsx)("span",{style:{float:"left"},children:"User Details"}),Object(p.jsx)("span",{onClick:()=>{c()},style:{color:"white",float:"right",cursor:"pointer"},children:"Back"})]})}),Object(p.jsxs)("div",{className:"panel-body",children:[Object(p.jsx)("div",{style:{padding:"20px"},children:Object(p.jsx)("span",{style:{fontSize:"19px",float:"left"},children:"Personal Details :"})}),Object(p.jsxs)("div",{className:"grid-container",children:[Object(p.jsxs)("div",{className:"grid-item",children:["Name: ",Object(p.jsx)("label",{children:l.name})]}),Object(p.jsxs)("div",{className:"grid-item",children:["Email: ",Object(p.jsx)("label",{children:l.email})]}),Object(p.jsxs)("div",{className:"grid-item",children:["Phone: ",Object(p.jsx)("label",{children:l.phone})]}),Object(p.jsxs)("div",{className:"grid-item",children:["City: ",Object(p.jsx)("label",{children:l.city})]}),l.login?Object(p.jsxs)("div",{className:"grid-item",children:["Signup Type: ",Object(p.jsx)("label",{children:l.login.signuptype})]}):null,Object(p.jsxs)("div",{className:"grid-item",children:["Assign Manager: ",Object(p.jsx)("label",{children:l.managername})]})]}),Object(p.jsx)("div",{className:"grid-container",children:l.photo?Object(p.jsx)("div",{className:"grid-item",children:Object(p.jsx)("img",{style:{height:"100px",width:"100px"},src:n+(null===(t=l.photo)||void 0===t?void 0:t.docpath)})}):null})]})]})})})})}s(1199);var m=s(101),x=s.n(m);let u=0,O={};function g(e){const[t,s]=Object(a.useState)([]),[c,l]=Object(a.useState)([]),[i,n]=Object(a.useState)([]),[r,d]=Object(a.useState)("0"),[h,b]=Object(a.useState)(""),[m,g]=Object(a.useState)(1),{showDetailsPage:f}=e,{showpage:y}=e,{showaddpage:v}=e,{showuseredit:N}=e,[S,C]=Object(a.useState)("ALL_USER");Object(a.useEffect)((()=>{k(),A()}),[]);const w=()=>{g(1)},T=e=>{j.a.get(o.c+"customer/"+e).then((e=>{e.data?(g(2),n({...e.data}),u=e.data.id,d(e.data.manager),console.log(u),console.log(e.data)):x.a.fire({icon:"warning",title:"Project Not Added"})}))},k=()=>{j.a.get(o.c+"customer").then((e=>{s([...e.data]),console.log(e.data),C("ALL_USER")}))},A=()=>{j.a.get(o.c+"employee").then((e=>{l([...e.data]),console.log("ye data hai"),console.log(e.data)}))};const P=e=>{O[e.target.name]=e.target.value};function D(e){let t=e.replace(/_/g," ");return t.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))}return Object(p.jsxs)("div",{children:[1===m?Object(p.jsx)("div",{className:"card",children:Object(p.jsx)("div",{className:"card-body ",children:Object(p.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-capitalize",children:Object(p.jsxs)("div",{className:"panel panel-default cart-border",children:[Object(p.jsx)("div",{className:"panel-heading panel-style",children:Object(p.jsxs)("h3",{style:{color:"#ffc701"},children:[Object(p.jsx)("span",{style:{float:"left"},children:"Manage User"}),Object(p.jsx)("span",{style:{float:"right",cursor:"pointer"},title:"Add User",onClick:()=>{v()},children:Object(p.jsx)("i",{className:"fa fa-plus"})})]})}),Object(p.jsx)("div",{className:"panel-body",children:Object(p.jsx)("div",{className:"table-responsive table-style",children:Object(p.jsxs)("table",{id:"projects",children:[Object(p.jsxs)("thead",{children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Phone"}),Object(p.jsx)("th",{children:"Email"}),Object(p.jsx)("th",{children:"City"}),Object(p.jsx)("th",{children:"Since"}),Object(p.jsx)("th",{children:"Action"})]}),Object(p.jsx)("tr",{children:Object(p.jsx)("th",{colSpan:"12",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{style:{float:"left",width:"30%",padding:"8px 0",height:"50px"},children:Object(p.jsxs)("div",{style:{display:"flex"},children:[Object(p.jsx)("input",{type:"text",className:"inputetype",onChange:e=>{b(e.target.value)},placeholder:"Search By Name,City,Email",name:"search"}),Object(p.jsx)("button",{type:"submit",className:"btn-primary",style:{color:"White",padding:"9px 7px",backgroundColor:"transparent"},children:Object(p.jsx)("i",{className:"fa fa-search"})})]})}),Object(p.jsxs)("div",{style:{float:"left",margin:"12px",display:"flex"},children:[Object(p.jsx)("button",{onClick:()=>{k()},className:"btn-primary",style:{color:"White",margin:"0 12px",padding:"6px 20px",fontSize:"15px"},className:"ALL_USER"===S?"active-link":"",children:"ALL"}),Object(p.jsx)("button",{onClick:()=>{j.a.get(o.c+"customer?type=THISWEEK").then((e=>{s([...e.data]),C("THISWEEK"),console.log(e.data)}))},className:"btn-primary",style:{color:"White",margin:"0 12px",padding:"6px 20px",fontSize:"15px"},className:"THISWEEK"===S?"active-link":"",children:"THIS WEEK"}),Object(p.jsx)("button",{onClick:()=>{j.a.get(o.c+"customer?type=THISMONTH").then((e=>{s([...e.data]),C("THISMONTH"),console.log(e.data)}))},className:"btn-primary",style:{color:"White",margin:"0 12px",padding:"6px 20px",fontSize:"15px"},className:"THISMONTH"===S?"active-link":"",children:"THIS MONTH"}),Object(p.jsx)("button",{onClick:()=>{j.a.get(o.c+"customer?type=LASTMONTH").then((e=>{s([...e.data]),C("LASTMONTH"),console.log(e.data)}))},className:"btn-primary",style:{color:"White",margin:"0 12px",padding:"6px 20px",fontSize:"15px"},className:"LASTMONTH"===S?"active-link":"",children:"LAST MONTH"}),Object(p.jsx)("button",{onClick:()=>{C("CUSTOM_DATE")},className:"btn-primary",style:{color:"White",margin:"0 12px",padding:"6px 20px",fontSize:"15px"},className:"CUSTOM_DATE"===S?"active-link":"",children:"CUSTOM DATE"})]}),Object(p.jsx)("br",{}),"CUSTOM_DATE"===S?Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{style:{float:"left",width:"33%",padding:"8px 0px",height:"50px"}}),Object(p.jsxs)("div",{style:{float:"left",width:"32%",padding:"10px 0",height:"60px",display:"flex"},children:[Object(p.jsx)("span",{style:{padding:"10px 6px",fontSize:"16px",width:"33%"},children:"Start Date"}),Object(p.jsx)("input",{type:"date",name:"startdate",style:{width:"70%"},required:!0,onChange:e=>{P(e)}})]}),Object(p.jsxs)("div",{style:{float:"left",width:"32%",padding:"10px 0",height:"60px",display:"flex"},children:[Object(p.jsx)("span",{style:{padding:"10px 6px",fontSize:"16px",width:"33%"},children:"End Date"}),Object(p.jsx)("input",{type:"date",style:{width:"70%"},name:"enddate",required:!0,onChange:e=>{P(e)}}),Object(p.jsx)("button",{onClick:()=>{!function(){let e=O.startdate,t=O.enddate;j.a.get(o.c+"customer?startdate="+e+"&enddate="+t).then((e=>{s([...e.data]),C("CUSTOM_DATE"),console.log(e.data)}))}()},type:"submit",className:"btn-primary",style:{color:"White",padding:"9px 7px",backgroundColor:"transparent"},children:Object(p.jsx)("i",{className:"fa fa-search"})})]})]}):null]})})})]}),Object(p.jsx)("tbody",{children:t.filter((e=>""===h||!!(e.name.toLowerCase().includes(h.toLowerCase())||e.city.toLowerCase().includes(h.toLowerCase())||e.email.toLowerCase().includes(h.toLowerCase())))).map((e=>{return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.name}),Object(p.jsx)("td",{children:e.phone}),Object(p.jsx)("td",{children:e.email}),Object(p.jsx)("td",{children:D(e.city)}),Object(p.jsx)("td",{children:(t=e.addedon,new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}).format(t))}),Object(p.jsxs)("td",{children:[Object(p.jsx)("span",{onClick:()=>{var t,s;t=e.id,s=e.name,y(t,s)},title:"User Project",style:{color:"white"},children:Object(p.jsx)("button",{children:Object(p.jsx)("i",{className:"fa fa-tasks"})})}),"\xa0 \xa0",Object(p.jsx)("span",{onClick:()=>{var t;t=e.id,N(t)},title:"User Update",style:{color:"white"},children:Object(p.jsx)("button",{children:Object(p.jsx)("i",{className:"fa fa-edit"})})}),"\xa0 \xa0",Object(p.jsx)("span",{onClick:()=>{var t;t=e.id,f(t)},title:"User Detail",style:{color:"white"},children:Object(p.jsx)("button",{children:Object(p.jsx)("i",{className:"fa fa-info-circle"})})}),"\xa0 \xa0",Object(p.jsx)("span",{onClick:()=>{var t;t=e.id,T(t)},title:"Assign Artist Manager",style:{color:"white"},children:Object(p.jsx)("button",{children:Object(p.jsx)("i",{className:"fa fa-th"})})}),"\xa0 \xa0",Object(p.jsx)("span",{onClick:()=>{var t;t=e.id,x.a.fire({title:"Are you sure?",text:"You will not be able to recover this customer data!",type:"Warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then((e=>{e.value&&j.a.delete(o.c+"customer/"+t).then((e=>{x.a.fire("Deleted!","Your data has been deleted.","success"),console.log(e),k()}))}))},title:"User Delete",style:{color:"white"},children:Object(p.jsx)("button",{children:Object(p.jsx)("i",{class:"fa fa-trash"})})})]})]},e.id);var t}))})]})})})]})})})}):null,2===m?Object(p.jsx)("div",{className:"card",children:Object(p.jsx)("div",{className:"card-body ",children:Object(p.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-capitalize",children:Object(p.jsxs)("div",{className:"panel panel-default cart-border",children:[Object(p.jsx)("div",{className:"panel-heading panel-style",children:Object(p.jsx)("h3",{style:{color:"#ffc701"},children:Object(p.jsx)("span",{style:{float:"left"},children:"Artist Assign"})})}),Object(p.jsx)("div",{className:"panel-body",children:Object(p.jsxs)("div",{className:"table-responsive table-style",children:[Object(p.jsxs)("div",{style:{margin:"41px"},children:[Object(p.jsx)("p",{style:{fontSize:"19px",marginBottom:"9px",textAlign:"left"},children:"Select Artist"}),Object(p.jsxs)("select",{id:"dropdown",name:"id",value:r,onChange:e=>{d(e.target.value)},style:{width:"100%",padding:"14px",borderRadius:"12px"},children:[Object(p.jsx)("option",{value:"0",children:"Select Artist"}),c.map((e=>Object(p.jsx)("option",{value:e.id,children:e.name})))]})]}),Object(p.jsx)("div",{style:{margin:"41px"},children:Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{type:"submit",onClick:()=>{(()=>{console.log(u),console.log("ye aa raha hai"),console.log(r);let e={id:u,manager:r};j.a.post(o.c+"customer/update",e).then((e=>{x.a.fire({icon:"success",title:"Artist Manager Updated Successfully"}),w(),console.log(e.data)}))})()},className:"btn-primary",style:{color:"White",float:"left",marginRight:"12px"},children:"Submit"}),"\xa0 \xa0",Object(p.jsx)("button",{type:"cancel",onClick:()=>{w()},className:"btn-primary",style:{color:"White",float:"left"},children:"Cancel"})]})})]})})]})})})}):null]})}var f=s(664),y=s.n(f),v=s(698);let N,S;class C extends a.Component{constructor(e){super(e),this.isShowPopup=e=>{this.setState({showModalPopup:e})},this.onChangeFile=e=>{S="";for(let s=0;s<2;s++)S+="0123456789"[Math.floor(2*Math.random())];if(console.log(S),this.setState({selectedFile:e.target.files[0]}),""!==e.target.files[0]){var t=new FileReader;t.onload=e=>{this.setState({imageUrl:e.target.result})},t.readAsDataURL(e.target.files[0]),this.setState({photo:{docname:S+"_"+e.target.files[0].name,doctype:"Audio",docpath:"Project/"+this.state.projects.customer+"/"+S+"_"+e.target.files[0].name}})}},this.handleUpload=()=>{const e=o.c+"common/doc/upload",{selectedFile:t}=this.state;if(!t)return this.setState({handleResponse:{isSuccess:!1,message:"Please select audio to upload."}}),!1;const s=new FormData;s.append("doc",t,S+"_"+this.state.selectedFile.name),s.append("name","Project/"+this.state.projects.customer),s.append("width",""),s.append("height",""),j.a.post(e,s).then((e=>{this.setState({handleResponse:{isSuccess:200===e.status,message:e.data.message}})})).catch((e=>{this.opensweetalertdanger(e.message)}))},this.handleSubmit=this.handleSubmit.bind(this),this.handleUpdateSubmit=this.handleUpdateSubmit.bind(this),this.state={projects:{},url:"",data:[],linkdata:[],photo:{},setScreenOpen:0,setmnanageproject:1,selectedFile:null,handleResponse:null,getbyidproject:[],imageUrl:null,docServer:o.a}}opensweetalert(e){x.a.fire({icon:"success",title:e,type:"success"}).then((function(){window.location.reload()}))}opensweetalertdanger(e){x.a.fire({icon:"warning",title:"OOPS! File upload failed",text:e,type:"warning"}).then((function(){window.location.reload()}))}loadData(){const e=o.c+"project/"+N;fetch(e,{headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{this.setState({projects:e,linkdata:[...e.links]})})),console.log(this.state.projects)}backpagescreen(e){N=e,this.loadData(),this.setState({setmnanageproject:2})}chnageproject(){let e=this.props.userId;j.a.get(o.c+"project?customer="+e).then((e=>{this.setState({getbyidproject:e.data,scrolling:!1})}))}componentDidMount(){this.chnageproject()}updateProject(){this.setState({setScreenOpen:1})}backpage(){this.setState({setmnanageproject:1})}updateCancel(){this.setState({setScreenOpen:0})}addYoutubeUrl(){this.setState({setScreenOpen:2})}handleSubmit(e){e.preventDefault();const t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:this.state.projects[0].id,links:[{link:this.firstName.value}]})},s=o.c+"project/link/add";fetch(s,t).then((e=>e.json())).then((e=>{this.opensweetalert(e.Status)})),this.loadData(),this.setState({setScreenOpen:0})}deleteProject(e){x.a.fire({title:"Project Is Active !",text:"Are You Sure You Want To Delete Project? You Can Not Recover Data",type:"Warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then((t=>{if(t.value){const t=o.c+"project/"+e;fetch(t,{method:"DELETE"}).then((e=>e.json())).then((e=>{x.a.fire("Deleted!","Your data has been deleted.","success"),this.props.goBack()}))}}))}deleteLink(e){const t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({container:this.state.projects.id,ids:[e]})},s=o.c+"project/link/delete";fetch(s,t).then((e=>e.json())).then((e=>{this.opensweetalert(e.Status)}))}renderTableHeader(){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{style:{width:"550px"},children:"Details"}),Object(p.jsx)("th",{style:{width:"330px"},children:"video/Audio"}),Object(p.jsx)("th",{style:{width:"200px"},children:"action"})]})}renderTableDataYoutube(){return this.state.linkdata.map(((e,t)=>{const{id:s,link:a}=e;return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:a}),Object(p.jsx)("td",{className:"text-align-center",children:Object(p.jsx)(y.a,{controls:!0,width:"100%",height:"100px",url:a})}),Object(p.jsx)("td",{className:"text-align-center",style:{width:"200px"},children:Object(p.jsx)("button",{title:"Delete Link",className:"my-svg-delete",onClick:e=>{this.deleteLink(s)}})})]})}))}getToTitles(e){if(e){let t=e.replace(/_/g," ");return this.toTitles(t)}}toTitles(e){return e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))}handleUpdateSubmit(e){e.preventDefault(),this.handleUpload();const t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:this.state.projects.id,details:this.Details.value,file:this.state.photo})},s=o.c+"project/update";fetch(s,t).then((e=>e.json())).then((e=>{this.opensweetalert(e.Status)})),this.loadData(),setTimeout((()=>{this.loadData()}),5e3),this.setState({setScreenOpen:0})}renderTableDataProject(){var e;return Object(p.jsxs)("tr",{children:[Object(p.jsxs)("td",{children:[Object(p.jsxs)("ul",{children:[Object(p.jsx)("span",{children:"Name:"}),this.state.projects.name]}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("span",{children:"Customer Name:"}),this.props.username]}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("span",{children:"Genre:"}),this.getToTitles(this.state.projects.genre)]}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("span",{children:"Project Type:"}),this.getToTitles(this.state.projects.projecttype)]}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("span",{children:"Needs Help With:"}),this.getToTitles(this.state.projects.faqs)]}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("span",{children:"Price Type:"}),this.getToTitles(this.state.projects.projectprice)]}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("span",{children:"Payment Status:"}),this.getToTitles(this.state.projects.paymentstatus)]}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("span",{children:"Details:"}),Object(p.jsx)("li",{children:this.state.projects.details})]})]}),Object(p.jsx)("td",{className:"text-align-center",children:Object(p.jsx)("audio",{controls:!0,preload:"auto",style:{width:"100%"},src:this.state.docServer+(null===(e=this.state.projects.file)||void 0===e?void 0:e.docpath)})}),Object(p.jsxs)("td",{className:"text-align-center",children:[Object(p.jsx)("button",{title:"Project Update",className:"my-svg-edit",onClick:e=>{this.updateProject()}}),"\xa0",Object(p.jsx)("button",{title:"Project Delete",className:"my-svg-delete",onClick:e=>{this.deleteProject(this.state.projects.id)}})]})]})}render(){const{imageUrl:e}=this.state;return Object(p.jsxs)("div",{children:[1===this.state.setmnanageproject?Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"contenttype",children:Object(p.jsxs)("h3",{children:[Object(p.jsx)("span",{style:{float:"left"},children:"Project List"}),Object(p.jsx)("span",{style:{float:"right",cursor:"pointer"},onClick:()=>{this.props.goBack()},children:"Back"})]})}),Object(p.jsx)("div",{className:"trackMainBox",children:Object(p.jsx)("div",{className:"showMasterFolder",children:this.state.getbyidproject.map((e=>Object(p.jsxs)("div",{style:{cursor:"pointer"},className:"folderHover",onClick:()=>{this.backpagescreen(e.id)},children:[Object(p.jsx)("h4",{children:Object(p.jsx)("img",{style:{cursor:"pointer"},src:v.a,alt:"folder",className:"iconFolder"})}),Object(p.jsx)("label",{style:{cursor:"pointer"},children:e.name})]},e.id)))})})]})}):null,2===this.state.setmnanageproject?Object(p.jsxs)("div",{className:"clearfix",children:[0===this.state.setScreenOpen?Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("div",{className:"col-md-4 animated fadeIn",children:Object(p.jsxs)("div",{className:"card",children:[Object(p.jsxs)("h3",{style:{display:"flex",justifyContent:"space-between",padding:10},children:[Object(p.jsx)("span",{children:"Project Details"}),Object(p.jsx)("span",{onClick:()=>{this.backpage()},style:{color:"white"},children:Object(p.jsx)("button",{style:{cursor:"pointer"},children:"Back"})})]}),Object(p.jsx)("table",{id:"projects",children:Object(p.jsxs)("tbody",{children:[this.renderTableHeader(),this.renderTableDataProject()]})})]})})}):null,0===this.state.setScreenOpen?Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("div",{className:"col-md-4 animated fadeIn",children:Object(p.jsxs)("div",{className:"card",children:[Object(p.jsx)("div",{className:"btn-align-down",children:Object(p.jsx)("button",{title:"Add You Tube Urls",className:"my-svg-add",onClick:e=>{this.addYoutubeUrl()}})}),Object(p.jsxs)("div",{children:[Object(p.jsx)("h3",{className:"paddi",children:"Reference Links"}),Object(p.jsx)("table",{id:"projects",children:Object(p.jsxs)("tbody",{children:[this.renderTableHeader(),this.renderTableDataYoutube()]})})]})]})})}):1===this.state.setScreenOpen?Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("div",{className:"card-body",children:Object(p.jsxs)("div",{className:"card",children:[Object(p.jsx)("div",{className:"paddi",children:Object(p.jsx)("h3",{children:"Project Edit"})}),Object(p.jsx)("hr",{}),Object(p.jsxs)("form",{onSubmit:this.handleUpdateSubmit,children:[Object(p.jsxs)("ul",{children:[Object(p.jsx)("label",{className:"label",children:"Details: "}),Object(p.jsx)("br",{}),Object(p.jsx)("textarea",{ref:e=>{this.Details=e},type:"text",className:"sampleTextarea",name:"details"})]}),Object(p.jsxs)("div",{style:{padding:"10px 20px 0px 20px",textAlign:"left"},children:[Object(p.jsx)("span",{children:"Select Audio File:"}),Object(p.jsx)("span",{style:{marginBottom:10},children:Object(p.jsx)("input",{type:"file",onChange:this.onChangeFile})}),Object(p.jsx)("div",{className:"up-img",children:e&&Object(p.jsx)("audio",{controls:!0,autoplay:!0,preload:"auto",src:e})})]}),Object(p.jsxs)("div",{className:"btn-margin",children:[Object(p.jsx)("button",{style:{padding:"1px 25px"},className:"btn-primary btn-small",style:{height:"37px"},children:Object(p.jsx)("span",{children:" Submit"})}),Object(p.jsx)("button",{style:{padding:"1px 25px"},className:"btn-primary btn-small",style:{height:"37px"},onClick:e=>{this.updateCancel()},children:Object(p.jsx)("span",{children:"Cancel"})})]})]})]})})}):2===this.state.setScreenOpen?Object(p.jsx)("div",{className:"col-xs-2",children:Object(p.jsx)("div",{className:"card-body",children:Object(p.jsx)("div",{className:"card",children:Object(p.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(p.jsx)("div",{className:"paddi",children:Object(p.jsx)("h3",{children:"Add Reference Link"})}),Object(p.jsx)("hr",{}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("label",{className:"label",children:"Reference Link: "}),Object(p.jsx)("input",{type:"text",ref:e=>{this.firstName=e},placeholder:"Enter Youtube Url",name:"url",className:"inputs"})]}),Object(p.jsxs)("div",{className:"btn-margin",children:[Object(p.jsx)("button",{style:{padding:"1px 25px"},type:"Submit",className:"btn-primary btn-small",children:"Submit"}),Object(p.jsx)("button",{style:{padding:"1px 25px"},className:"btn-primary btn-small",onClick:e=>{this.updateCancel()},children:"Cancel"})]})]})})})}):null]}):null]})}}var w=C;s(810);let T=0;class k extends c.a.Component{constructor(e){super(e),this.sendwelcomemail=(e,t,s)=>{let a=atob(t);console.log(a);let c={email:s,name:e,username:e,password:a};j.a.post(o.d+"welcomeMail",c).then((e=>{console.log(e.data)}))},this.onChangeFile=e=>{if(this.setState({selectedFile:e.target.files[0]}),""!==e.target.files[0]){var t=new FileReader;t.onload=e=>{this.setState({imageUrl:e.target.result})},t.readAsDataURL(e.target.files[0]),this.setState({photo:{docname:e.target.files[0].name,doctype:"Profile",docpath:"Customer/"+e.target.files[0].name,urllink:""}})}},this.handleUpload=e=>{const t=o.c+"common/doc/upload",{selectedFile:s}=this.state;if(!s)return this.setState({handleResponse:{isSuccess:!1,message:"Please select image to upload."}}),!1;const a=new FormData;a.append("doc",s,this.state.selectedFile.name),a.append("name","Customer/"+e),a.append("width","400"),a.append("height","400"),j.a.post(t,a).then((t=>{this.updateCustomer(e),this.setState({handleResponse:{isSuccess:200===t.status,message:t.data.message}})})).catch((e=>{alert(e.message)}))},this.state={fields:{},photo:{},selectedFile:null,handleResponse:null,imageUrl:null,setemployeescreen:0},this.handleChange=this.handleChange.bind(this),this.submituserRegistrationForm=this.submituserRegistrationForm.bind(this)}handleChange(e){let t=this.state.fields;t[e.target.name]=e.target.value,this.setState({fields:t})}submituserRegistrationForm(e){e.preventDefault();let t={name:"",phone:"",email:"",city:"",password:""};console.log("this.state.fields"),console.log(this.state.fields);let s={name:this.state.fields.name,phone:this.state.fields.phone,email:this.state.fields.email,city:this.state.fields.city,login:{email:this.state.fields.email,password:btoa(this.state.fields.password),type:"CUSTOMER",signuptype:"EMAIL"}};s.login.email=s.email,j.a.post(o.c+"customer",s).then((e=>{this.setState({fields:t}),T=e.data.id,this.handleUpload(T),this.sendwelcomemail(e.data.name,e.data.login.password,e.data.email),x.a.fire({icon:"success",title:"Submitted",showConfirmButton:!1,timer:1500}),console.log(e.data)})).catch((e=>{console.log(e),x.a.fire({icon:"error",title:"Duplicate User"})}))}updateCustomer(e){let t={id:e,photo:{docname:this.state.selectedFile.name,doctype:"Profile",docpath:"Customer/"+e+"/"+this.state.selectedFile.name,urllink:""}};j.a.post(o.c+"customer/update",t).then((e=>{x.a.fire({icon:"success",title:"Submitted",showConfirmButton:!1,timer:1500}),this.props.goBack(),console.log(e.data)})).catch((e=>{console.log(e),x.a.fire({icon:"error",title:"Duplicate User"})}))}validateForm(){let e=this.state.fields,t={},s=!0;(e.name||(s=!1,t.name="*Please enter your username."),"undefined"!==typeof e.name&&(e.name.match(/^[a-zA-Z ]*$/)||(s=!1,t.name="*Please enter alphabet characters only.")),e.email||(s=!1,t.email="*Please enter your email-ID."),"undefined"!==typeof e.email)&&(new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i).test(e.emailid)||(s=!1,t.email="*Please enter valid email-ID."));return e.phone||(s=!1,t.phone="*Please enter your mobile no."),"undefined"!==typeof e.phone&&(e.phone.match(/^[0-9]{10}$/)||(s=!1,t.phone="*Please enter valid mobile no.")),e.password||(s=!1,t.password="*Please enter your password."),"undefined"!==typeof e.password&&(e.password.match(/^.*(?=.{8,})(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%&]).*$/)||(s=!1,t.password="*Please enter secure and strong password.")),this.setState({errors:t}),s}render(){const{imageUrl:e}=this.state;return Object(p.jsx)("div",{className:"card",children:Object(p.jsx)("div",{className:"card-body ",children:Object(p.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-capitalize",children:Object(p.jsxs)("div",{className:"panel panel-default cart-border",children:[Object(p.jsx)("div",{className:"panel-heading panel-style",children:Object(p.jsx)("span",{children:Object(p.jsx)("h3",{style:{color:"#ffc701"},children:Object(p.jsx)("span",{style:{float:"left"},children:"Add User"})})})}),Object(p.jsx)("div",{className:"panel-body",children:Object(p.jsx)("div",{className:"table-responsive table-style",children:Object(p.jsxs)("form",{method:"post",name:"userRegistrationForm",onSubmit:this.submituserRegistrationForm,children:[Object(p.jsxs)("div",{className:"row",children:[Object(p.jsxs)("div",{className:"column",children:[Object(p.jsxs)("div",{style:{marginTop:"8px"},children:[Object(p.jsx)("p",{style:{textAlign:"left",marginBottom:"8px"},children:"Name"}),Object(p.jsx)("input",{type:"text",name:"name",className:"textstyle",required:!0,value:this.state.fields.name,onChange:this.handleChange})]}),Object(p.jsxs)("div",{style:{marginTop:"8px"},children:[Object(p.jsx)("p",{style:{textAlign:"left",marginBottom:"8px"},children:"Phone"}),Object(p.jsx)("input",{type:"number",className:"textstyle",name:"phone",required:!0,value:this.state.fields.phone,onChange:this.handleChange})]})]}),Object(p.jsx)("div",{className:"column",children:Object(p.jsxs)("div",{style:{marginTop:"8px"},children:[Object(p.jsx)("p",{style:{textAlign:"left",marginBottom:"8px"},children:"City"}),Object(p.jsx)("input",{type:"text",className:"textstyle",name:"city",required:!0,value:this.state.fields.city,onChange:this.handleChange})]})})]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"column",children:Object(p.jsxs)("div",{style:{marginTop:"8px"},children:[Object(p.jsx)("p",{style:{textAlign:"left",marginBottom:"8px"},children:"Email"}),Object(p.jsx)("input",{type:"text",className:"textstyle",name:"email",required:!0,value:this.state.fields.Email,onChange:this.handleChange})]})}),Object(p.jsx)("div",{className:"column",children:Object(p.jsxs)("div",{style:{marginTop:"8px"},children:[Object(p.jsx)("p",{style:{textAlign:"left",marginBottom:"8px"},children:"Password"}),Object(p.jsx)("input",{type:"password",className:"textstyle",name:"password",required:!0,value:this.state.fields.password,onChange:this.handleChange})]})})]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"column",children:Object(p.jsxs)("div",{style:{marginTop:"8px"},children:[Object(p.jsxs)("label",{style:{float:"left",marginBottom:"8px"},children:[" ",Object(p.jsx)("span",{children:"Select Image:"})]}),Object(p.jsx)("input",{type:"file",required:!0,onChange:this.onChangeFile})]})}),Object(p.jsx)("div",{className:"column",children:Object(p.jsx)("div",{style:{marginTop:"8px"},children:Object(p.jsx)("img",{style:{height:"180px",width:"175px"},src:e,className:"card-img-top"})})})]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"column",children:Object(p.jsx)("div",{style:{marginTop:"8px",float:"left"},children:Object(p.jsx)("button",{type:"submit",className:"btn-primary",style:{color:"White"},children:"Submit"})})}),Object(p.jsx)("div",{className:"column",children:Object(p.jsx)("div",{style:{marginTop:"8px",float:"right"},children:Object(p.jsx)("button",{type:"cancel",onClick:()=>{this.props.goBack()},className:"btn-primary",style:{color:"White"},children:"Cancel"})})})]})]})})})]})})})})}}var A=k;class P extends c.a.Component{constructor(e){super(e),this.initfun=()=>{let e=this.props.userId;j.a.get(o.c+"customer/"+e).then((e=>{this.setState({data:e.data,scrolling:!1}),console.log("Response",e)}))},this.onChangeFile=e=>{if(this.setState({selectedFile:e.target.files[0]}),""!==e.target.files[0]){var t=new FileReader;t.onload=e=>{this.setState({imageUrl:e.target.result})},t.readAsDataURL(e.target.files[0]),this.setState({photo:{docname:e.target.files[0].name,doctype:"Profile",docpath:"Customer/"+this.props.userId+"/"+e.target.files[0].name,urllink:""}})}},this.handleUpload=()=>{const e=o.c+"common/doc/upload",{selectedFile:t}=this.state;if(!t)return this.setState({handleResponse:{isSuccess:!1,message:"Please select image to upload."}}),!1;const s=new FormData;s.append("doc",t,this.state.selectedFile.name),s.append("name","Customer/"+this.props.userId),s.append("width","400"),s.append("height","400"),j.a.post(e,s).then((e=>{this.setState({handleResponse:{isSuccess:200===e.status,message:e.data.message}})})).catch((e=>{alert(e.message)}))},this.state={fields:{},data:[],photo:{},selectedFile:null,handleResponse:null,imageUrl:null,docServer:o.a},this.handleChange=this.handleChange.bind(this),this.submituserRegistrationForm=this.submituserRegistrationForm.bind(this)}handleChange(e){let t=this.state.fields;t[e.target.name]=e.target.value,this.setState({fields:t})}submituserRegistrationForm(e){e.preventDefault();let t={name:"",phone:"",email:"",city:"",password:""};console.log("this.state.fields"),console.log(this.state.fields);let s={id:this.props.userId,name:this.state.fields.name,phone:this.state.fields.phone,email:this.state.fields.email,city:this.state.fields.city,photo:{}};s.photo=this.state.photo,j.a.post(o.c+"customer/update",s).then((e=>{this.setState({fields:t}),this.handleUpload(),console.log(e.data)})),x.a.fire({icon:"success",title:"Submitted",showConfirmButton:!1,timer:1500}),this.props.goBack()}componentDidMount(){this.initfun()}render(){var e;const{imageUrl:t}=this.state;return Object(p.jsx)("div",{className:"card",children:Object(p.jsx)("div",{className:"card-body ",children:Object(p.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-capitalize",children:Object(p.jsxs)("div",{className:"panel panel-default cart-border",children:[Object(p.jsx)("div",{className:"panel-heading panel-style",children:Object(p.jsx)("span",{children:Object(p.jsx)("h3",{style:{color:"#ffc701"},children:Object(p.jsx)("span",{style:{float:"left"},children:"Edit User"})})})}),Object(p.jsx)("div",{className:"panel-body",children:Object(p.jsx)("div",{className:"table-responsive table-style",children:Object(p.jsxs)("form",{method:"post",name:"userRegistrationForm",onSubmit:this.submituserRegistrationForm,children:[Object(p.jsxs)("div",{className:"row",children:[Object(p.jsxs)("div",{className:"column",children:[Object(p.jsxs)("div",{style:{marginTop:"8px"},children:[Object(p.jsx)("label",{style:{float:"left",marginBottom:"8px"},children:"Name"}),Object(p.jsx)("input",{type:"text",className:"textstyle",name:"name",defaultValue:this.state.data.name,onChange:this.handleChange})]}),Object(p.jsxs)("div",{style:{marginTop:"8px"},children:[Object(p.jsx)("label",{style:{float:"left",marginBottom:"8px"},children:"Phone"}),Object(p.jsx)("input",{type:"number",className:"textstyle",name:"phone",defaultValue:this.state.data.phone,onChange:this.handleChange})]})]}),Object(p.jsxs)("div",{className:"column",children:[Object(p.jsxs)("div",{style:{marginTop:"8px"},children:[Object(p.jsx)("label",{style:{float:"left",marginBottom:"8px"},children:"City"}),Object(p.jsx)("input",{type:"text",className:"textstyle",name:"city",defaultValue:this.state.data.city,onChange:this.handleChange})]}),Object(p.jsxs)("div",{style:{marginTop:"8px"},children:[Object(p.jsx)("label",{style:{float:"left",marginBottom:"8px"},children:"Email"}),Object(p.jsx)("input",{type:"text",className:"textstyle",name:"designation",readOnly:!0,value:this.state.data.email,onChange:this.handleChange})]})]})]}),Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("div",{className:"column",children:Object(p.jsxs)("div",{style:{marginTop:"8px"},children:[Object(p.jsx)("label",{style:{float:"left",marginBottom:"8px"},children:"Photo"}),Object(p.jsx)("img",{style:{height:"175px",width:"175px"},src:this.state.docServer+(null===(e=this.state.data.photo)||void 0===e?void 0:e.docpath),className:"card-img-top"})]})})}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"column",children:Object(p.jsxs)("div",{style:{marginTop:"8px"},children:[Object(p.jsxs)("label",{style:{float:"left",marginBottom:"8px"},children:[" ",Object(p.jsx)("span",{children:"Select Image:"})]}),Object(p.jsx)("input",{type:"file",required:!0,onChange:this.onChangeFile})]})}),Object(p.jsx)("div",{className:"column",children:Object(p.jsx)("div",{style:{marginTop:"8px"},children:Object(p.jsx)("img",{style:{height:"175px",width:"175px"},src:t,className:"card-img-top"})})})]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"column",children:Object(p.jsx)("div",{style:{marginTop:"8px",float:"left"},children:Object(p.jsx)("button",{type:"submit",className:"btn-primary",style:{color:"White"},children:"Update"})})}),Object(p.jsx)("div",{className:"column",children:Object(p.jsx)("div",{style:{marginTop:"8px",float:"right"},children:Object(p.jsx)("button",{type:"cancel",onClick:()=>{this.props.goBack()},className:"btn-primary",style:{color:"White"},children:"Cancel"})})})]})]})})})]})})})})}}var D=P;let B,U=0;function F(){const[e,t]=Object(a.useState)(1),s=()=>{t(1)};return Object(p.jsx)(p.Fragment,{children:1===e?Object(p.jsx)(g,{showDetailsPage:e=>{e>0?(U=e,t(2)):x.a.fire({icon:"warning",title:"Something Happen",text:"Please try again after some time.",showConfirmButton:!1,timer:5500})},showpage:(e,s)=>{e>0?(U=e,B=s,t(4)):x.a.fire({icon:"warning",title:"Something Happen",text:"Please try again after some time.",showConfirmButton:!1,timer:5500})},showuseredit:e=>{e>0?(U=e,t(5)):x.a.fire({icon:"warning",title:"Something Happen",text:"Please try again after some time.",showConfirmButton:!1,timer:5500})},showaddpage:()=>{t(3)}}):2===e?Object(p.jsx)(b,{userId:U,goBack:s}):3===e?Object(p.jsx)(A,{goBack:s}):4===e?Object(p.jsx)(w,{userId:U,goBack:s,username:B}):Object(p.jsx)(D,{userId:U,goBack:s})})}s(811);let L,E;class R extends a.Component{constructor(e){super(e),this.isShowPopup=e=>{this.setState({showModalPopup:e})},this.onChangeFile=e=>{E="";for(let s=0;s<2;s++)E+="0123456789"[Math.floor(2*Math.random())];if(console.log(E),this.setState({selectedFile:e.target.files[0]}),""!==e.target.files[0]){var t=new FileReader;t.onload=e=>{this.setState({imageUrl:e.target.result})},t.readAsDataURL(e.target.files[0]),this.setState({photo:{docname:E+"_"+e.target.files[0].name,doctype:"Audio",docpath:"Project/"+this.state.projects[0].customer+"/"+E+"_"+e.target.files[0].name}})}},this.handleUpload=()=>{const e=o.c+"common/doc/upload",{selectedFile:t}=this.state;if(!t)return this.setState({handleResponse:{isSuccess:!1,message:"Please select audio to upload."}}),!1;const s=new FormData;s.append("doc",t,E+"_"+this.state.selectedFile.name),s.append("name","Project/"+this.state.projects[0].customer),s.append("width",""),s.append("height",""),j.a.post(e,s).then((e=>{this.setState({handleResponse:{isSuccess:200===e.status,message:e.data.message}})})).catch((e=>{this.opensweetalertdanger(e.message)}))},this.handleSubmit=this.handleSubmit.bind(this),this.handleUpdateSubmit=this.handleUpdateSubmit.bind(this),this.state={projects:[],url:"",data:[],linkdata:[],custdata:[],photo:{},setScreenOpen:0,selectedFile:null,handleResponse:null,imageUrl:null,docServer:o.a}}opensweetalert(e){x.a.fire({icon:"success",title:e,type:"success"}).then((()=>{this.loadData()}))}opensweetalertdanger(e){x.a.fire({icon:"warning",title:"OOPS! File upload failed",text:e,type:"warning"}).then((function(){}))}loadData(){let e=this.props.projectId;const t=o.c+"project/"+e;fetch(t,{headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{this.setState({projects:[e],linkdata:[...e.links]})}))}customerid(){const e=o.c+"customer/"+this.props.username;j.a.get(e).then((e=>{this.state.custdata=e.data,L=e.data.name,console.log(e.data)}))}componentDidMount(){this.loadData(),this.customerid()}updateProject(){this.setState({setScreenOpen:1})}updateCancel(){this.setState({setScreenOpen:0})}addYoutubeUrl(){this.setState({setScreenOpen:2})}handleSubmit(e){e.preventDefault();const t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:this.state.projects[0].id,links:[{link:this.firstName.value}]})},s=o.c+"project/link/add";fetch(s,t).then((e=>e.json())).then((e=>{this.opensweetalert(e.Status),this.loadData()})),this.setState({setScreenOpen:0})}deleteProject(e){x.a.fire({title:"Are you sure?",text:"You will not be able to recover this data!",type:"Warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then((t=>{if(t.value){const t=o.c+"project/"+e;fetch(t,{method:"DELETE"}).then((e=>e.json())).then((e=>{this.opensweetalert(e.Status)})),this.loadData(),setTimeout((()=>{this.loadData()}),1e3),this.setState({setScreenOpen:0})}}))}deleteLink(e){const t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({container:this.state.projects[0].id,ids:[e]})},s=o.c+"project/link/delete";fetch(s,t).then((e=>e.json())).then((e=>{this.opensweetalert(e.Status)})),this.loadData(),setTimeout((()=>{this.loadData()}),1e3),this.setState({setScreenOpen:0})}renderTableHeader(){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{style:{width:"500px"},children:"Details"}),Object(p.jsx)("th",{style:{width:"350px"},children:"video/Audio"}),Object(p.jsx)("th",{style:{width:"200px"},children:"action"})]})}renderTableDataYoutube(){return this.state.linkdata.map(((e,t)=>{const{id:s,link:a}=e;return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:a}),Object(p.jsx)("td",{className:"text-align-center",children:Object(p.jsx)(y.a,{controls:!0,width:"100%",height:"100px",className:"youtube",url:a})}),Object(p.jsx)("td",{className:"text-align-center",style:{width:"200px"},children:Object(p.jsx)("button",{className:"my-svg-delete",onClick:e=>{this.deleteLink(s)}})})]})}))}getToTitles(e){let t=e.replace(/_/g," ");return this.toTitles(t)}toTitles(e){return e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))}handleUpdateSubmit(e){e.preventDefault(),this.handleUpload();const t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:this.state.projects[0].id,details:this.Details.value,file:this.state.photo})},s=o.c+"project/update";fetch(s,t).then((e=>e.json())).then((e=>{this.opensweetalert(e.Status)})),this.loadData(),setTimeout((()=>{this.loadData()}),1e3),this.setState({setScreenOpen:0})}renderTableDataProject(){return this.state.projects.map(((e,t)=>{const{id:s,name:a,projecttype:c,details:l,faqs:i,file:n,managername:r,projectprice:d,paymentstatus:o,genre:h}=e;return Object(p.jsxs)("tr",{children:[Object(p.jsxs)("td",{children:[Object(p.jsxs)("ul",{children:[Object(p.jsx)("span",{children:"Name:"}),a]}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("span",{children:"Customer Name:"}),L]}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("span",{children:"Genre:"}),this.getToTitles(h)]}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("span",{children:"Project Type:"}),this.getToTitles(c)]}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("span",{children:"Needs Help With:"}),this.getToTitles(i)]}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("span",{children:"Price Type:"}),this.getToTitles(d)]}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("span",{children:"Payment Status:"}),this.getToTitles(o)]}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("span",{children:"Details:"}),Object(p.jsx)("li",{children:this.getToTitles(l)})]})]}),Object(p.jsx)("td",{className:"text-align-center",children:Object(p.jsx)("audio",{controls:!0,style:{width:"100%"},preload:"auto",src:this.state.docServer+(null===n||void 0===n?void 0:n.docpath)})}),Object(p.jsxs)("td",{className:"text-align-center",children:[Object(p.jsx)("button",{title:"Project Update",className:"my-svg-edit",onClick:e=>{this.updateProject()}}),"\xa0",Object(p.jsx)("button",{title:"Project Delete",className:"my-svg-delete",onClick:e=>{this.deleteProject(s)}})]})]})}))}render(){const{imageUrl:e}=this.state;return Object(p.jsxs)("div",{className:"clearfix",children:[0===this.state.setScreenOpen?Object(p.jsx)("div",{className:"row",children:this.state.projects.map((e=>Object(p.jsx)("div",{className:"col-md-4 animated fadeIn",children:Object(p.jsxs)("div",{className:"card",children:[Object(p.jsx)("div",{className:"btn-align-down",children:Object(p.jsx)("button",{className:"btn-small",onClick:()=>{this.props.Back()},style:{color:"white"},children:"Back"})}),Object(p.jsx)("h3",{className:"paddi",children:"Project Details"}),Object(p.jsx)("table",{id:"projects",children:Object(p.jsxs)("tbody",{children:[this.renderTableHeader(),this.renderTableDataProject()]})})]})})))}):null,0===this.state.setScreenOpen?Object(p.jsx)("div",{className:"row",children:this.state.projects.map((e=>Object(p.jsx)("div",{className:"col-md-4 animated fadeIn",children:Object(p.jsxs)("div",{className:"card",children:[Object(p.jsx)("div",{className:"btn-align-down",children:Object(p.jsx)("button",{className:"my-svg-add",onClick:e=>{this.addYoutubeUrl()}})}),Object(p.jsxs)("div",{children:[Object(p.jsx)("h3",{className:"paddi",children:"Reference Links"}),Object(p.jsx)("table",{id:"projects",children:Object(p.jsxs)("tbody",{children:[this.renderTableHeader(),this.renderTableDataYoutube()]})})]})]})})))}):1===this.state.setScreenOpen?Object(p.jsx)("div",{className:"row",children:this.state.projects.map((t=>Object(p.jsx)("div",{className:"card-body",children:Object(p.jsxs)("div",{className:"card",children:[Object(p.jsx)("div",{className:"paddi",children:Object(p.jsx)("h3",{children:"Project Edit"})}),Object(p.jsx)("hr",{}),Object(p.jsxs)("form",{onSubmit:this.handleUpdateSubmit,children:[Object(p.jsxs)("ul",{children:[Object(p.jsx)("label",{className:"label",children:"Details: "}),Object(p.jsx)("br",{}),Object(p.jsx)("textarea",{ref:e=>{this.Details=e},type:"text",className:"sampleTextarea",name:"details"})]}),Object(p.jsxs)("div",{style:{padding:"10px 20px 0px 20px"},children:[Object(p.jsx)("span",{style:{float:"left"},children:"Select Audio File:"}),Object(p.jsx)("span",{style:{marginBottom:10},children:Object(p.jsx)("input",{type:"file",onChange:this.onChangeFile})}),Object(p.jsx)("div",{className:"up-img",children:e&&Object(p.jsx)("audio",{controls:!0,autoplay:!0,preload:"auto",src:e})})]}),Object(p.jsxs)("div",{className:"btn-margin",children:[Object(p.jsx)("button",{className:"btn-primary btn-small",style:{padding:"5px 20px"},children:"Submit"}),Object(p.jsx)("button",{className:"btn-primary btn-small",style:{padding:"5px 20px"},onClick:e=>{this.updateCancel()},children:"Cancel"})]})]})]})})))}):2===this.state.setScreenOpen?Object(p.jsx)("div",{className:"col-xs-2",children:Object(p.jsx)("div",{className:"card-body",children:Object(p.jsxs)("div",{className:"card",children:[Object(p.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(p.jsx)("div",{className:"paddi",children:Object(p.jsx)("h3",{children:"Add Reference Link"})}),Object(p.jsx)("hr",{}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("label",{className:"label",children:"Reference Link: "}),Object(p.jsx)("input",{type:"text",ref:e=>{this.firstName=e},placeholder:"Enter Youtube Url",name:"url",className:"inputs"})]}),Object(p.jsx)("div",{className:"btn-margin",children:Object(p.jsx)("button",{type:"Submit",className:"btn-primary btn-small",style:{padding:"5px 20px"},children:"Submit"})})]}),Object(p.jsx)("div",{className:"btn-bottom-margin",children:Object(p.jsx)("button",{className:"btn-primary btn-small",style:{padding:"5px 20px"},onClick:e=>{this.updateCancel()},children:"Cancel"})})]})})}):null]})}}var I=R;let M,W;function H(e){const[t,s]=Object(a.useState)([]),[c,l]=Object(a.useState)(""),{showeditpage:i,showDetails:n}=e,r=()=>{j.a.get(o.c+"project").then((e=>{const t=e.data.sort((function(e,t){return t.addedon-e.addedon}));s([...t]),console.log("sorted :",t),e.data[0]&&(M=e.data[0].customer)}))};function d(e,t){let s={id:e};"ACTIVE"===t?s.status="IN_ACTIVE":"IN_ACTIVE"===t?s.status="ACTIVE":"COMPLETED"===t?s.paymentstatus="NOT_COMPLETED":(t="NOT_COMPLETED")&&(s.paymentstatus="COMPLETED"),console.log("updateproject"),console.log(s),j.a.post(o.c+"project/update",s).then((e=>{console.log(e.data),r()}))}function h(e){let t=e.replace(/_/g," ");return t.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))}function b(e){if(e){return e.replaceAll("_"," ").replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))}return""}return Object(a.useEffect)((()=>{r()}),[]),Object(p.jsx)("div",{className:"card",children:Object(p.jsx)("div",{className:"card-body ",children:Object(p.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-capitalize",children:Object(p.jsxs)("div",{className:"panel panel-default cart-border",children:[Object(p.jsx)("div",{className:"panel-heading panel-style",children:Object(p.jsx)("h3",{style:{color:"#ffc701"},className:"headerproper",children:Object(p.jsx)("span",{style:{float:"left"},children:"Manage Projects"})})}),Object(p.jsx)("div",{className:"panel-body",children:Object(p.jsx)("div",{className:"table-responsive table-style",children:Object(p.jsxs)("table",{id:"projects",children:[Object(p.jsxs)("thead",{children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Customer"}),Object(p.jsx)("th",{children:"Project Type"}),Object(p.jsx)("th",{children:"Genre"}),Object(p.jsx)("th",{children:"Faqs"}),Object(p.jsxs)("th",{children:["Payment ",Object(p.jsx)("br",{}),"Status"]}),Object(p.jsxs)("th",{children:["Project ",Object(p.jsx)("br",{}),"Status"]}),Object(p.jsx)("th",{children:"Action"})]}),Object(p.jsx)("tr",{children:Object(p.jsx)("th",{colSpan:"12",children:Object(p.jsxs)("div",{className:"Search",children:[Object(p.jsx)("input",{type:"text",className:"inputetype",onChange:e=>{l(e.target.value)},placeholder:"Search By Name,Project Type,Genre,Faqs,Customer",name:"search"}),Object(p.jsx)("button",{type:"submit",className:"btn-primary",style:{color:"White"},children:Object(p.jsx)("i",{class:"fa fa-search"})})]})})})]}),Object(p.jsx)("tbody",{children:t.filter((e=>""===c||!!(e.name.toLowerCase().includes(c.toLowerCase())||e.projecttype.toLowerCase().includes(c.toLowerCase())||e.genre.toLowerCase().includes(c.toLowerCase())||e.custname.toLowerCase().includes(c.toLowerCase())||e.faqs.toLowerCase().includes(c.toLowerCase())))).map((e=>Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.name}),Object(p.jsx)("td",{children:e.custname}),Object(p.jsx)("td",{children:h(e.projecttype)}),Object(p.jsx)("td",{children:b(e.genre)}),Object(p.jsx)("td",{children:b(e.faqs)}),Object(p.jsx)("td",{children:h(e.paymentstatus)}),Object(p.jsx)("td",{children:h(e.status)}),Object(p.jsxs)("td",{children:["IN_ACTIVE"===e.status?Object(p.jsx)("span",{onClick:()=>{d(e.id,e.status)},title:"Project Inactive",style:{color:"white"},children:Object(p.jsx)("button",{children:Object(p.jsx)("i",{class:"fa fa-thumbs-down"})})}):Object(p.jsx)("span",{onClick:()=>{d(e.id,e.status)},title:"project Active",style:{color:"white"},children:Object(p.jsx)("button",{children:Object(p.jsx)("i",{class:"fa fa-thumbs-up"})})}),"\xa0",Object(p.jsx)("span",{onClick:()=>{var t,s;t=e.id,s=e.customer,i(t,s)},title:"Project Update",style:{color:"white"},children:Object(p.jsx)("button",{children:Object(p.jsx)("i",{className:"fa fa-edit"})})}),"\xa0",Object(p.jsx)("span",{onClick:()=>{var t,s;t=e.customer,s=e.id,localStorage.setItem("selectedCustomerID",t),n(s)},title:"Project Detail",style:{color:"white"},children:Object(p.jsx)("button",{children:Object(p.jsx)("i",{className:"fa fa-info-circle"})})}),"\xa0",Object(p.jsx)("span",{onClick:()=>{var t;t=e.id,x.a.fire({title:"Are you sure?",text:"You will not be able to recover this data!",type:"Warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then((e=>{e.value&&j.a.delete(o.c+"project/"+t).then((e=>{x.a.fire("Deleted!","Your data has been deleted.","success"),r(),console.log(e)}))}))},title:"Project Delete",style:{color:"white"},children:Object(p.jsx)("button",{children:Object(p.jsx)("i",{class:"fa fa-trash"})})}),"\xa0","NOT_COMPLETED"===e.paymentstatus?Object(p.jsx)("span",{onClick:()=>{d(e.id,e.paymentstatus)},title:"Payment Not Completed",style:{color:"white"},children:Object(p.jsx)("button",{children:Object(p.jsx)("i",{class:"fa fa-money-bill-alt"})})}):null]})]},e.id)))})]})})})]})})})})}class Y extends a.Component{constructor(e){super(e),this.isShowPopup=e=>{this.setState({showModalPopup:e})},this.onChangeFile=e=>{W="";for(let s=0;s<2;s++)W+="0123456789"[Math.floor(2*Math.random())];if(console.log(W),this.setState({selectedFile:e.target.files[0]}),""!==e.target.files[0]){var t=new FileReader;t.onload=e=>{this.setState({imageUrl:e.target.result})},t.readAsDataURL(e.target.files[0]),this.setState({photo:{docname:W+"_"+e.target.files[0].name,doctype:"Audio",docpath:"Project/"+this.state.projects[0].customer+"/"+W+"_"+e.target.files[0].name}})}},this.handleUpload=()=>{const e=o.c+"common/doc/upload",{selectedFile:t}=this.state;if(!t)return this.setState({handleResponse:{isSuccess:!1,message:"Please select audio to upload."}}),!1;const s=new FormData;s.append("doc",t,this.state.selectedFile.name),s.append("name","Project/"+this.state.projects[0].customer),s.append("width",""),s.append("height",""),j.a.post(e,s).then((e=>{this.setState({handleResponse:{isSuccess:200===e.status,message:e.data.message}})})).catch((e=>{this.opensweetalertdanger(e.message)}))},this.handleSubmit=this.handleSubmit.bind(this),this.handleUpdateSubmit=this.handleUpdateSubmit.bind(this),this.state={projects:{},userName:{},url:"",data:[],linkdata:[],photo:{},setScreenOpen:0,selectedFile:null,handleResponse:null,imageUrl:null,docServer:o.a}}opensweetalert(e){x.a.fire({icon:"success",title:e,type:"success"}).then((function(){window.location.reload()}))}opensweetalertdanger(e){x.a.fire({icon:"warning",title:"OOPS! File upload failed",text:e,type:"warning"}).then((function(){window.location.reload()}))}loadData(){let e=this.props.projectId;const t=o.c+"project/"+e;fetch(t,{headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{this.setState({projects:e,linkdata:[...e.links]})}))}loadCustomer(){const e=localStorage.getItem("selectedCustomerID"),t=o.c+"customer/"+e;fetch(t,{headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{this.setState({userName:e})}))}componentDidMount(){this.loadData(),this.loadCustomer()}updateProject(){this.setState({setScreenOpen:1})}updateCancel(){this.setState({setScreenOpen:0})}addYoutubeUrl(){this.setState({setScreenOpen:2})}handleSubmit(e){e.preventDefault();const t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:this.state.projects[0].id,links:[{link:this.firstName.value}]})},s=o.c+"project/link/add";fetch(s,t).then((e=>e.json())).then((e=>{this.opensweetalert(e.Status)})),this.loadData(),this.setState({setScreenOpen:0})}deleteProject(e){const t=o.c+"project/"+e;fetch(t,{method:"DELETE"}).then((e=>e.json())).then((e=>{this.opensweetalert(e.Status)}))}deleteLink(e){const t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({container:this.state.projects[0].id,ids:[e]})},s=o.c+"project/link/delete";fetch(s,t).then((e=>e.json())).then((e=>{this.opensweetalert(e.Status)}))}renderTableHeader(){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{style:{width:"500px"},children:"Details"}),Object(p.jsx)("th",{style:{width:"350px"},children:"video/Audio"})]})}renderTableDataYoutube(){return this.state.linkdata.map(((e,t)=>{const{id:s,link:a}=e;return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:a}),Object(p.jsx)("td",{className:"text-align-center",children:Object(p.jsx)(y.a,{controls:!0,width:"100%",height:"100px",className:"youtube",url:a})})]})}))}getToTitles(e){if(e){let t=e.replace(/_/g," ");return this.toTitles(t)}}toTitles(e){return e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))}handleUpdateSubmit(e){e.preventDefault(),this.handleUpload();const t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:this.state.projects[0].id,details:this.Details.value,file:this.state.photo})},s=o.c+"project/update";fetch(s,t).then((e=>e.json())).then((e=>{this.opensweetalert(e.Status)})),this.loadData(),setTimeout((()=>{this.loadData()}),5e3),this.setState({setScreenOpen:0})}renderTableDataProject(){var e;return Object(p.jsxs)("tr",{children:[Object(p.jsxs)("td",{children:[Object(p.jsxs)("ul",{children:[Object(p.jsx)("span",{children:"Project Name:"}),this.state.projects.name]}),this.state.userName?Object(p.jsxs)("ul",{children:[Object(p.jsx)("span",{children:"Customer Name:"}),this.state.userName.name]}):null,this.state.userName?Object(p.jsxs)("ul",{children:[Object(p.jsx)("span",{children:"Customer Email:"}),this.state.userName.email]}):null,Object(p.jsxs)("ul",{children:[Object(p.jsx)("span",{children:"Genre:"}),this.getToTitles(this.state.projects.genre)]}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("span",{children:"Project Type:"}),this.getToTitles(this.state.projects.projecttype)]}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("span",{children:"Needs Help With:"}),this.getToTitles(this.state.projects.faqs)]}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("span",{children:"Price Type:"}),this.getToTitles(this.state.projects.projectprice)]}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("span",{children:"Payment Status:"}),this.getToTitles(this.state.projects.paymentstatus)]}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("span",{children:"Details:"}),Object(p.jsx)("li",{children:this.state.projects.details})]})]}),Object(p.jsx)("td",{className:"text-align-center",children:Object(p.jsx)("audio",{controls:!0,style:{width:"100%"},preload:"auto",src:this.state.docServer+(null===(e=this.state.projects.file)||void 0===e?void 0:e.docpath)})})]})}render(){const{imageUrl:e}=this.state;return Object(p.jsxs)("div",{className:"clearfix",children:[0===this.state.setScreenOpen?Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("div",{className:"col-md-4 animated fadeIn",children:Object(p.jsxs)("div",{className:"card",children:[Object(p.jsxs)("h3",{style:{display:"flex",justifyContent:"space-between",padding:10},children:[Object(p.jsx)("span",{children:"Project Details"}),Object(p.jsx)("span",{onClick:()=>{this.props.Back()},style:{color:"white",cursor:"pointer"},children:Object(p.jsx)("button",{children:"Back"})})]}),Object(p.jsx)("table",{id:"projects",children:Object(p.jsxs)("tbody",{children:[this.renderTableHeader(),this.renderTableDataProject()]})})]})})}):null,0===this.state.setScreenOpen?Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("div",{className:"col-md-4 animated fadeIn",children:Object(p.jsx)("div",{className:"card",children:Object(p.jsxs)("div",{children:[Object(p.jsx)("h3",{className:"paddi",children:"Reference Links"}),Object(p.jsx)("table",{id:"projects",children:Object(p.jsxs)("tbody",{children:[this.renderTableHeader(),this.renderTableDataYoutube()]})})]})})})}):1===this.state.setScreenOpen?Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("div",{className:"card-body",children:Object(p.jsxs)("div",{className:"card",children:[Object(p.jsx)("div",{className:"paddi",children:Object(p.jsx)("h3",{children:"Project Update"})}),Object(p.jsx)("hr",{}),Object(p.jsxs)("form",{onSubmit:this.handleUpdateSubmit,children:[Object(p.jsxs)("ul",{children:[Object(p.jsx)("label",{className:"label",children:"Details: "}),Object(p.jsx)("br",{}),Object(p.jsx)("textarea",{ref:e=>{this.Details=e},type:"text",className:"sampleTextarea",name:"details"})]}),Object(p.jsxs)("div",{style:{padding:"10px 20px 0px 20px"},children:[Object(p.jsx)("span",{children:"Select Audio File:"}),Object(p.jsx)("span",{style:{marginBottom:10},children:Object(p.jsx)("input",{type:"file",onChange:this.onChangeFile})}),Object(p.jsx)("div",{className:"up-img",children:e&&Object(p.jsx)("audio",{controls:!0,autoplay:!0,preload:"auto",src:e})})]}),Object(p.jsxs)("div",{className:"btn-margin",children:[Object(p.jsx)("button",{className:"btn-primary btn-small",children:"Submit"}),Object(p.jsx)("button",{className:"btn-primary btn-small",onClick:e=>{this.updateCancel()},children:"Cancel"})]})]})]})})}):2===this.state.setScreenOpen?Object(p.jsx)("div",{className:"col-xs-2",children:Object(p.jsx)("div",{className:"card-body",children:Object(p.jsx)("div",{className:"card",children:Object(p.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(p.jsx)("div",{className:"paddi",children:Object(p.jsx)("h3",{children:"Add Reference Link"})}),Object(p.jsx)("hr",{}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("label",{className:"label",children:"Reference Link: "}),Object(p.jsx)("input",{type:"text",ref:e=>{this.firstName=e},placeholder:"Enter Youtube Url",name:"url",className:"inputs"})]}),Object(p.jsxs)("div",{className:"btn-margin",children:[Object(p.jsx)("button",{type:"Submit",className:"btn-primary btn-small",style:{padding:"5px 20px"},children:"Submit"}),Object(p.jsx)("button",{className:"btn-primary btn-small",style:{padding:"5px 20px"},onClick:e=>{this.updateCancel()},children:"Cancel"})]})]})})})}):null]})}}var z=Y;let _,G=0;function q(){const[e,t]=Object(a.useState)(1),s=()=>{t(1)},c=e=>{G=e,t(3)};return Object(p.jsx)(p.Fragment,{children:1===e?Object(p.jsx)(H,{showeditpage:(e,s)=>{e>0?(G=e,_=s,t(2)):x.a.fire({icon:"warning",title:"Something Happen",text:"Please try again after some time.",showConfirmButton:!1,timer:5500})},showDetails:c}):2===e?Object(p.jsx)(I,{projectId:G,username:_,Back:s}):Object(p.jsx)(z,{projectId:G,Back:s,showDetails:c})})}s(1200);function J(e){const[t,s]=Object(a.useState)([]),[c,l]=Object(a.useState)(""),{displayedit:i}=e,{showdetailpage:n}=e,{showaddpage:r}=e;Object(a.useEffect)((()=>{j.a.get(o.c+"employee").then((e=>{s([...e.data]),console.log(e.data)}))}),[]);function d(e){let t=e.replace(/_/g," ");return t.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))}function h(e){j.a.delete(o.c+"employee/"+e).then((e=>{x.a.fire("Deleted!","Your data has been deleted.","success"),console.log(e),j.a.get(o.c+"employee").then((e=>{s([...e.data]),console.log(e.data)}))})).catch((t=>{!function(e){x.a.fire({title:"Are you sure?",text:"If you Delet It All User Assign To This ARM Will Automatically Reassign",type:"Warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then((t=>{t.value&&j.a.delete(o.c+"employee/update/"+e).then((e=>{x.a.fire("Deleted!","Your data has been deleted.","success"),console.log(e),j.a.get(o.c+"employee").then((e=>{s([...e.data]),console.log(e.data)}))})).catch((e=>{x.a.fire({icon:"warning",title:"Can Not Assign Project To Artist Manager Please Add New Artist Manager"})}))}))}(e),console.log(t)}))}return Object(p.jsx)("div",{className:"card",children:Object(p.jsx)("div",{className:"card-body ",children:Object(p.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-capitalize",children:Object(p.jsxs)("div",{className:"panel panel-default cart-border",children:[Object(p.jsxs)("div",{className:"panel-heading panel-style",children:[Object(p.jsx)("span",{children:Object(p.jsx)("h3",{style:{color:"#ffc701"},children:Object(p.jsx)("span",{style:{float:"left"},children:"Manage Artist "})})}),Object(p.jsx)("span",{onClick:()=>{r()},title:"Add Artist",style:{float:"right",cursor:"pointer"},children:Object(p.jsx)("i",{className:"fa fa-plus"})})]}),Object(p.jsx)("div",{className:"panel-body",children:Object(p.jsx)("div",{className:"table-responsive table-style",children:Object(p.jsxs)("table",{id:"projects",children:[Object(p.jsxs)("thead",{children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Designation"}),Object(p.jsx)("th",{children:"Phone"}),Object(p.jsx)("th",{children:"Email"}),Object(p.jsx)("th",{children:"City"}),Object(p.jsx)("th",{children:"Action"})]}),Object(p.jsx)("tr",{children:Object(p.jsx)("th",{colSpan:"12",children:Object(p.jsxs)("div",{className:"Search",children:[Object(p.jsx)("input",{type:"text",className:"inputetype",onChange:e=>{l(e.target.value)},placeholder:"Search By Name,Designation,Email,City",name:"search"}),Object(p.jsx)("button",{type:"submit",className:"btn-primary",style:{color:"White"},children:Object(p.jsx)("i",{class:"fa fa-search"})})]})})})]}),Object(p.jsx)("tbody",{children:t.filter((e=>""===c||!!(e.name.toLowerCase().includes(c.toLowerCase())||e.designation.toLowerCase().includes(c.toLowerCase())||e.email.toLowerCase().includes(c.toLowerCase())||e.city.toLowerCase().includes(c.toLowerCase())))).map(((e,t)=>Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.name}),Object(p.jsx)("td",{children:e.designation}),Object(p.jsx)("td",{children:e.phone}),Object(p.jsx)("td",{children:e.email}),Object(p.jsx)("td",{children:d(e.city)}),Object(p.jsxs)("td",{children:[Object(p.jsx)("span",{onClick:()=>{var t;t=e.id,n(t)},title:"Artist Detail",style:{color:"white"},children:Object(p.jsx)("button",{children:Object(p.jsx)("i",{className:"fa fa-info-circle"})})}),"\xa0 \xa0",Object(p.jsx)("span",{onClick:()=>{var t;t=e.id,i(t)},title:"Artist Update",style:{color:"white"},children:Object(p.jsx)("button",{children:Object(p.jsx)("i",{className:"fa fa-edit"})})}),"\xa0 \xa0",Object(p.jsx)("span",{onClick:()=>{h(e.id)},style:{color:"white"},children:Object(p.jsx)("button",{children:Object(p.jsx)("i",{class:"fa fa-trash"})})})]})]},e.id)))})]})})})]})})})})}s(812);let V=0;class K extends c.a.Component{constructor(e){super(e),this.onChangeFile=e=>{if(this.setState({selectedFile:e.target.files[0]}),""!==e.target.files[0]){var t=new FileReader;t.onload=e=>{this.setState({imageUrl:e.target.result})},t.readAsDataURL(e.target.files[0]),this.setState({photo:{docname:e.target.files[0].name,doctype:"Profile",docpath:"Employee/"+e.target.files[0].name,urllink:""}})}},this.handleUpload=e=>{console.log("custid"),console.log(e);const t=o.c+"common/doc/upload",{selectedFile:s}=this.state;if(!s)return this.setState({handleResponse:{isSuccess:!1,message:"Please select image to upload."}}),!1;const a=new FormData;a.append("doc",s,this.state.selectedFile.name),a.append("name","Employee/"+e),a.append("width","400"),a.append("height","400"),j.a.post(t,a).then((t=>{this.updateEmployee(e),this.setState({handleResponse:{isSuccess:200===t.status,message:t.data.message}})})).catch((e=>{alert(e.message)}))},this.state={fields:{},photo:{},selectedFile:null,handleResponse:null,imageUrl:null,setemployeescreen:0},this.handleChange=this.handleChange.bind(this),this.submituserRegistrationForm=this.submituserRegistrationForm.bind(this)}handleChange(e){let t=this.state.fields;t[e.target.name]=e.target.value,this.setState({fields:t})}submituserRegistrationForm(e){e.preventDefault();let t={name:"",phone:"",email:"",city:"",password:""};console.log("this.state.fields"),console.log(this.state.fields);let s={name:this.state.fields.name,phone:this.state.fields.phone,designation:"Manager",email:this.state.fields.email,city:this.state.fields.city,status:"ACTIVE",login:{email:this.state.fields.email,password:this.state.fields.password,type:"ARTIST_MANAGER",signuptype:"EMAIL"}};s.login.email=s.email,s.login.password=btoa(s.login.password),j.a.post(o.c+"employee",s).then((e=>{this.setState({fields:t}),V=e.data.id,console.log("idd"),console.log(V),this.handleUpload(V),console.log(e.data),x.a.fire({icon:"success",title:"Submitted",showConfirmButton:!1,timer:1500}),this.props.goBack()})).catch((e=>{console.log(e),x.a.fire({icon:"error",title:"Duplicate Employee"})}))}updateEmployee(e){let t={id:e,photo:{docname:this.state.selectedFile.name,doctype:"Profile",docpath:"Employee/"+e+"/"+this.state.selectedFile.name,urllink:""}};j.a.post(o.c+"employee/update",t).then((e=>{x.a.fire({icon:"success",title:"Submitted",showConfirmButton:!1,timer:1500}),this.props.goBack(),console.log(e.data)})).catch((e=>{console.log(e),x.a.fire({icon:"error",title:"Duplicate User"})}))}validateForm(){let e=this.state.fields,t={},s=!0;(e.name||(s=!1,t.name="*Please enter your username."),"undefined"!==typeof e.name&&(e.name.match(/^[a-zA-Z ]*$/)||(s=!1,t.name="*Please enter alphabet characters only.")),e.email||(s=!1,t.email="*Please enter your email-ID."),"undefined"!==typeof e.email)&&(new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i).test(e.emailid)||(s=!1,t.email="*Please enter valid email-ID."));return e.phone||(s=!1,t.phone="*Please enter your mobile no."),"undefined"!==typeof e.phone&&(e.phone.match(/^[0-9]{10}$/)||(s=!1,t.phone="*Please enter valid mobile no.")),e.password||(s=!1,t.password="*Please enter your password."),"undefined"!==typeof e.password&&(e.password.match(/^.*(?=.{8,})(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%&]).*$/)||(s=!1,t.password="*Please enter secure and strong password.")),this.setState({errors:t}),s}render(){const{imageUrl:e}=this.state;return Object(p.jsx)("div",{className:"card",children:Object(p.jsx)("div",{className:"card-body ",children:Object(p.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-capitalize",children:Object(p.jsxs)("div",{className:"panel panel-default cart-border",children:[Object(p.jsx)("div",{className:"panel-heading panel-style",children:Object(p.jsx)("h3",{style:{color:"#ffc701"},children:Object(p.jsx)("span",{style:{float:"left"},children:"Add Artist Manager"})})}),Object(p.jsx)("div",{className:"panel-body",children:Object(p.jsx)("div",{className:"table-responsive table-style",children:Object(p.jsxs)("form",{method:"post",name:"userRegistrationForm",onSubmit:this.submituserRegistrationForm,children:[Object(p.jsxs)("div",{className:"row",children:[Object(p.jsxs)("div",{className:"column",children:[Object(p.jsxs)("div",{style:{marginTop:"8px"},children:[Object(p.jsx)("p",{style:{textAlign:"left",marginBottom:"8px"},children:"Name"}),Object(p.jsx)("input",{type:"text",name:"name",className:"textstyle",required:!0,value:this.state.fields.name,onChange:this.handleChange})]}),Object(p.jsxs)("div",{style:{marginTop:"8px"},children:[Object(p.jsx)("p",{style:{textAlign:"left",marginBottom:"8px"},children:"Phone"}),Object(p.jsx)("input",{type:"number",className:"textstyle",required:!0,name:"phone",value:this.state.fields.phone,onChange:this.handleChange})]})]}),Object(p.jsx)("div",{className:"column",children:Object(p.jsxs)("div",{style:{marginTop:"8px"},children:[Object(p.jsx)("p",{style:{textAlign:"left",marginBottom:"8px"},children:"City"}),Object(p.jsx)("input",{type:"text",className:"textstyle",required:!0,name:"city",value:this.state.fields.city,onChange:this.handleChange})]})})]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"column",children:Object(p.jsxs)("div",{style:{marginTop:"8px"},children:[Object(p.jsx)("p",{style:{textAlign:"left",marginBottom:"8px"},children:"Email"}),Object(p.jsx)("input",{type:"text",className:"textstyle",required:!0,name:"email",value:this.state.fields.Email,onChange:this.handleChange})]})}),Object(p.jsx)("div",{className:"column",children:Object(p.jsxs)("div",{style:{marginTop:"8px"},children:[Object(p.jsx)("p",{style:{textAlign:"left",marginBottom:"8px"},children:"Password"}),Object(p.jsx)("input",{type:"password",className:"textstyle",required:!0,name:"password",value:this.state.fields.password,onChange:this.handleChange})]})})]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"column",children:Object(p.jsxs)("div",{style:{marginTop:"8px"},children:[Object(p.jsxs)("label",{style:{float:"left",marginBottom:"8px"},children:[" ",Object(p.jsx)("span",{children:"Select Image:"})]}),Object(p.jsx)("input",{type:"file",className:"textstyle",required:!0,required:!0,onChange:this.onChangeFile})]})}),Object(p.jsx)("div",{className:"column",children:Object(p.jsx)("div",{style:{marginTop:"8px"},children:Object(p.jsx)("img",{style:{height:"185px",width:"175px"},src:e,className:"card-img-top"})})})]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"column",children:Object(p.jsx)("div",{style:{marginTop:"8px",float:"left"},children:Object(p.jsx)("button",{type:"submit",className:"btn-primary",style:{color:"White"},children:"Submit"})})}),Object(p.jsx)("div",{className:"column",children:Object(p.jsx)("div",{style:{marginTop:"8px",float:"right"},children:Object(p.jsx)("button",{type:"cancel",onClick:()=>{this.props.goBack()},className:"btn-primary",style:{color:"White"},children:"Cancel"})})})]})]})})})]})})})})}}var X=K;let Q;class Z extends c.a.Component{constructor(e){super(e),this.initfun=()=>{let e=this.props.empid;const t=o.c+"employee/"+e;j.a.get(t).then((e=>{this.setState({data:e.data,scrolling:!1,empStatus:e.data.status}),Q=e.data.status,console.log("status",e.data.status)}))},this.onChangeFile=e=>{if(this.setState({selectedFile:e.target.files[0]}),""!==e.target.files[0]){var t=new FileReader;t.onload=e=>{this.setState({imageUrl:e.target.result})},t.readAsDataURL(e.target.files[0]),this.setState({photo:{docname:e.target.files[0].name,doctype:"Profile",docpath:"Employee/"+this.props.empid+"/"+e.target.files[0].name,urllink:""}})}},this.handleUpload=()=>{const e=o.c+"common/doc/upload",{selectedFile:t}=this.state;if(!t)return this.setState({handleResponse:{isSuccess:!1,message:"Please select image to upload."}}),!1;const s=new FormData;s.append("doc",t,this.state.selectedFile.name),s.append("name","Employee/"+this.props.empid),s.append("width","400"),s.append("height","400"),j.a.post(e,s).then((e=>{this.setState({handleResponse:{isSuccess:200===e.status,message:e.data.message}})})).catch((e=>{alert(e.message)}))},this.state={fields:{},photo:{},selectedFile:null,handleResponse:null,imageUrl:null,docServer:o.a,data:[],empStatus:""},this.handleChange=this.handleChange.bind(this),this.updatedata=this.updatedata.bind(this),this.handleStatusChange=this.handleStatusChange.bind(this)}componentDidMount(){this.initfun()}handleChange(e){let t=this.state.fields;t[e.target.name]=e.target.value,this.setState({fields:t}),console.log(this.state)}handleStatusChange(e){let t=e.target.value;this.setState({empStatus:t}),this.state.fields.status=t}updatedata(e){e.preventDefault();let t={name:"",phone:"",email:"",city:"",status:"",password:""};console.log("this.state.fields"),console.log(this.state.fields);let s={id:this.props.empid,name:this.state.fields.name,phone:this.state.fields.phone,designation:"Manager",email:this.state.fields.email,city:this.state.fields.city,status:this.state.fields.status,photo:{}};s.photo=this.state.photo,j.a.post(o.c+"employee/update",s).then((e=>{this.setState({fields:t}),this.handleUpload(),console.log(e.data)})),x.a.fire({icon:"success",title:"Updated",showConfirmButton:!1,timer:1500}),this.props.goBack()}validateForm(){let e=this.state.fields,t={},s=!0;(e.name||(s=!1,t.name="*Please enter your username."),"undefined"!==typeof e.name&&(e.name.match(/^[a-zA-Z ]*$/)||(s=!1,t.name="*Please enter alphabet characters only.")),e.email||(s=!1,t.email="*Please enter your email-ID."),"undefined"!==typeof e.email)&&(new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i).test(e.emailid)||(s=!1,t.email="*Please enter valid email-ID."));return e.phone||(s=!1,t.phone="*Please enter your mobile no."),"undefined"!==typeof e.phone&&(e.phone.match(/^[0-9]{10}$/)||(s=!1,t.phone="*Please enter valid mobile no.")),e.password||(s=!1,t.password="*Please enter your password."),"undefined"!==typeof e.password&&(e.password.match(/^.*(?=.{8,})(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%&]).*$/)||(s=!1,t.password="*Please enter secure and strong password.")),this.setState({errors:t}),s}render(){var e;const{imageUrl:t}=this.state;return Object(p.jsx)("div",{className:"card",children:Object(p.jsx)("div",{className:"card-body ",children:Object(p.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-capitalize",children:Object(p.jsxs)("div",{className:"panel panel-default cart-border",children:[Object(p.jsx)("div",{className:"panel-heading panel-style",children:Object(p.jsx)("h3",{style:{color:"#ffc701"},children:Object(p.jsx)("span",{style:{float:"left"},children:"Edit Artist Manager"})})}),Object(p.jsx)("div",{className:"panel-body",children:Object(p.jsx)("div",{className:"table-responsive table-style",children:Object(p.jsxs)("form",{method:"post",name:"userRegistrationForm",onSubmit:this.updatedata,children:[Object(p.jsxs)("div",{className:"row",children:[Object(p.jsxs)("div",{className:"column",children:[Object(p.jsxs)("div",{style:{marginTop:"8px"},children:[Object(p.jsx)("label",{style:{float:"left",marginBottom:"8px"},children:"Name"}),Object(p.jsx)("input",{type:"text",className:"textstyle",name:"name",id:"name",defaultValue:this.state.data.name,onChange:this.handleChange})]}),Object(p.jsxs)("div",{style:{marginTop:"8px"},children:[Object(p.jsx)("label",{style:{float:"left",marginBottom:"8px"},children:"Phone"}),Object(p.jsx)("input",{type:"number",className:"textstyle",id:"phone",name:"phone",defaultValue:this.state.data.phone,onChange:this.handleChange})]})]}),Object(p.jsxs)("div",{className:"column",children:[Object(p.jsxs)("div",{style:{marginTop:"8px"},children:[Object(p.jsx)("label",{style:{float:"left",marginBottom:"8px"},children:"City"}),Object(p.jsx)("input",{type:"text",className:"textstyle",name:"city",id:"city",defaultValue:this.state.data.city,onChange:this.handleChange})]}),Object(p.jsxs)("div",{style:{marginTop:"8px"},children:[Object(p.jsx)("label",{style:{float:"left",marginBottom:"8px"},children:"Email"}),Object(p.jsx)("input",{type:"text",className:"textstyle",name:"email",id:"email",readOnly:!0,value:this.state.data.email,onChange:this.handleChange})]})]}),Object(p.jsx)("div",{className:"column",children:Object(p.jsxs)("div",{style:{marginTop:"-41px"},children:[Object(p.jsx)("label",{style:{float:"left",marginBottom:"8px"},children:"Status"}),Object(p.jsxs)("select",{name:"status",value:this.state.empStatus,onChange:this.handleStatusChange,id:"status",style:{borderRadius:"10px",padding:"8px",width:"100%"},children:[Object(p.jsx)("option",{value:"ACTIVE",children:"ACTIVE"}),Object(p.jsx)("option",{value:"IN_ACTIVE",children:"INACTIVE"})]})]})})]}),Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("div",{className:"column",children:Object(p.jsxs)("div",{style:{marginTop:"8px"},children:[Object(p.jsx)("label",{style:{float:"left",marginBottom:"8px"},children:"Photo"}),Object(p.jsx)("img",{style:{height:"200px",width:"200px"},src:this.state.docServer+(null===(e=this.state.data.photo)||void 0===e?void 0:e.docpath),className:"card-img-top"})]})})}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"column",children:Object(p.jsxs)("div",{style:{marginTop:"8px"},children:[Object(p.jsxs)("label",{style:{float:"left",marginBottom:"8px"},children:[" ",Object(p.jsx)("span",{children:"Select Image:"})]}),Object(p.jsx)("input",{type:"file",onChange:this.onChangeFile})]})}),Object(p.jsx)("div",{className:"column",children:Object(p.jsx)("div",{style:{marginTop:"8px"},children:Object(p.jsx)("img",{style:{height:"185px",width:"175px"},src:t,className:"card-img-top"})})})]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"column",children:Object(p.jsx)("div",{style:{marginTop:"8px",float:"left"},children:Object(p.jsx)("button",{type:"submit",className:"btn-primary",style:{color:"White"},children:"Update"})})}),Object(p.jsx)("div",{className:"column",children:Object(p.jsx)("div",{style:{marginTop:"8px",float:"right"},children:Object(p.jsx)("button",{type:"cancel",onClick:()=>{this.props.goBack()},className:"btn-primary",style:{color:"White"},children:"Cancel"})})})]})]})})})]})})})})}}var $=Z;function ee(e){var t;const{empid:s,goBack:c}=e,[l,i]=Object(a.useState)({}),n=o.a;return Object(a.useEffect)((()=>{const e=o.c+"employee/"+s;j.a.get(e).then((e=>{i(e.data),console.log(e.data)}))}),[s]),Object(p.jsx)("div",{className:"card",children:Object(p.jsx)("div",{className:"card-body ",children:Object(p.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-capitalize",children:Object(p.jsxs)("div",{className:"panel panel-default cart-border",children:[Object(p.jsx)("div",{className:"panel-heading panel-style",children:Object(p.jsxs)("h3",{style:{color:"#ffc701"},children:[Object(p.jsx)("span",{style:{float:"left"},children:"Artist Details"}),Object(p.jsx)("span",{onClick:()=>{c()},style:{color:"white",float:"right"},children:Object(p.jsx)("button",{children:"Back"})})]})}),Object(p.jsxs)("div",{className:"panel-body",children:[Object(p.jsx)("div",{style:{padding:"24px"},children:Object(p.jsx)("span",{style:{fontSize:"19px",float:"left"},children:"Personal Details :"})}),Object(p.jsxs)("div",{className:"grid-container",children:[Object(p.jsxs)("div",{className:"grid-item",children:["Name: ",Object(p.jsx)("label",{children:l.name})]}),Object(p.jsxs)("div",{className:"grid-item",children:["Email: ",Object(p.jsx)("label",{children:l.email})]}),Object(p.jsxs)("div",{className:"grid-item",children:["Phone: ",Object(p.jsx)("label",{children:l.phone})]}),Object(p.jsxs)("div",{className:"grid-item",children:["City: ",Object(p.jsx)("label",{children:l.city})]}),l.login?Object(p.jsxs)("div",{className:"grid-item",children:["Signup Type: ",Object(p.jsx)("label",{children:l.login.signuptype})]}):null,Object(p.jsxs)("div",{className:"grid-item",children:["Status: ",Object(p.jsx)("label",{children:l.status})]})]}),Object(p.jsx)("div",{className:"grid-container",children:l.photo?Object(p.jsx)("div",{className:"grid-item",children:Object(p.jsx)("img",{style:{height:"100px",width:"100px"},src:n+(null===(t=l.photo)||void 0===t?void 0:t.docpath)})}):null})]})]})})})})}let te=0;function se(){const[e,t]=Object(a.useState)(1),s=()=>{t(1)};return Object(p.jsx)(p.Fragment,{children:1===e?Object(p.jsx)(J,{displayedit:e=>{e>0?(te=e,t(3)):x.a.fire({icon:"warning",title:"Something Happen",text:"Please try again after some time.",showConfirmButton:!1,timer:5500})},showaddpage:()=>{t(2)},showdetailpage:e=>{e>0?(te=e,t(4)):x.a.fire({icon:"warning",title:"Something Happen",text:"Please try again after some time.",showConfirmButton:!1,timer:5500})}}):2===e?Object(p.jsx)(X,{goBack:s}):3===e?Object(p.jsx)($,{empid:te,goBack:s}):Object(p.jsx)(ee,{empid:te,goBack:s})})}s(736);class ae extends a.Component{constructor(){super(),this.docServer=o.a,this.uppercase=e=>e.charAt(0).toUpperCase()+e.slice(1),this.loadData=()=>{const e=JSON.parse(localStorage.getItem("userData")).id,t=o.c+"employee/"+e;fetch(t).then((e=>e.json())).then((e=>{this.setState({data:[{...e}],scrolling:!1})})).catch((e=>{x.a.fire({icon:"error",title:"Account Inactive",text:"Your account has now been deactivated.",showConfirmButton:!1,timer:5500}),setTimeout((()=>{this.logoutUser(),window.location.href="/"}),2e3)}))},this.otpfunction=()=>{let e="";for(let s=0;s<4;s++)e+="0123456789"[Math.floor(10*Math.random())];console.log(e);let t={toMobile:"91"+this.state.fieldss.phone,message:"Your OTP for verification is: "+e+". Choira"};j.a.post(o.c+"sms/send",t).then((t=>{this.setState({otpdata:t.data,scrolling:!1,otp:e}),console.log(t.data),this.setState({setotppage:3})})).catch((e=>{console.log(e,"something went wrong"),this.setState({setotppage:1})}))},this.updatemployee=()=>{console.log(this.state.otp);let e={id:JSON.parse(localStorage.getItem("userData")).id,phone:this.state.fieldss.phone};console.log("otp"),console.log(this.state.fieldsss.otpnum),console.log(this.state.otp),this.state.fieldsss.otpnum===this.state.otp?(j.a.post(o.c+"employee/update",e).then((e=>{console.log(e.data)})),x.a.fire({icon:"success",title:"Phone Number Updated",showConfirmButton:!1,timer:1500}),this.setState({setScreenOpen:0})):x.a.fire({icon:"error",title:"Your OTP Is Incorrect",showConfirmButton:!1,timer:1500})},this.updateProfile=()=>{this.setState({setScreenOpen:1})},this.onChangeFile=e=>{if(this.setState({selectedFile:e.target.files[0]}),""!==e.target.files[0]){var t=new FileReader;t.onload=e=>{this.setState({imageUrl:e.target.result})},t.readAsDataURL(e.target.files[0]),this.setState({photo:{docname:e.target.files[0].name,doctype:"Profile",docpath:"Customer/"+this.state.data[0].id+"/"+e.target.files[0].name,urllink:""}})}},this.handleUpload=()=>{const e=o.c+"common/doc/upload",{selectedFile:t}=this.state;if(!t)return this.setState({handleResponse:{isSuccess:!1,message:"Please select image to upload."}}),!1;const s=new FormData;s.append("doc",t,this.state.selectedFile.name),s.append("name","Customer/"+this.state.data[0].id),s.append("width","400"),s.append("height","400"),j.a.post(e,s).then((e=>{this.setState({handleResponse:{isSuccess:200===e.status,message:e.data.message}})})).catch((e=>{alert(e.message)}))},this.updatepass=()=>{this.setState({setScreenOpen:2})},this.handleSubmit=this.handleSubmit.bind(this),this.state={localData:{},data:[],photo:{},fields:{},setScreenOpen:0,selectedFile:null,handleResponse:null,imageUrl:null,fieldss:{},setotppage:0,otpdata:{},otp:1234,fieldsss:{}},this.handleChange1=this.handleChange1.bind(this),this.handleChange2=this.handleChange2.bind(this),this.handleChange=this.handleChange.bind(this),this.submitpassword=this.submitpassword.bind(this)}opensweetalert(e){x.a.fire({title:e,type:"success"}).then((function(){window.location.reload()}))}handleChange2(e){let t=this.state.fieldsss;t[e.target.name]=e.target.value,this.setState({fieldsss:t})}backpage(){this.setState({setScreenOpen:0})}handleChange1(e){let t=this.state.fieldss;t[e.target.name]=e.target.value,this.setState({fieldss:t}),this.state.fieldss.phone&&this.setState({setotppage:1}),console.log(this.state)}logoutUser(){localStorage.clear()}renderTableHeader(){return Object.keys(this.state.data[0]).map(((e,t)=>Object(p.jsx)("label",{className:"labelStyle",children:e.toUpperCase()},t)))}componentDidMount(){this.loadData()}handleSubmit(e){if(e.preventDefault(),""===this.City.value&&null===this.state.selectedFile)return;this.handleUpload(),localStorage.setItem("photo",JSON.stringify(this.state.photo));const t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:this.state.data[0].id,phone:this.Phone.value,city:this.City.value,photo:this.state.photo})},s=o.c+"employee/update";fetch(s,t).then((e=>e.json())).then((e=>{this.opensweetalert(e.Status)})),this.setState({setScreenOpen:0})}handleChange(e){let t=this.state.fields;t[e.target.name]=e.target.value,this.setState({fields:t})}submitpassword(e){e.preventDefault();let t={oldpassword:"",newpassword:"",confirmpassword:""};console.log(this.state.fields);let s={id:JSON.parse(localStorage.getItem("userData")).id,login:{id:JSON.parse(localStorage.getItem("userData")).login.id,password:btoa(this.state.fields.newpassword)}},a=JSON.parse(localStorage.getItem("userData")).login.password;a=atob(a),a!==this.state.fields.oldpassword?x.a.fire({icon:"error",title:"Does Not Match old Password"}):a===this.state.fields.newpassword?x.a.fire({icon:"error",title:"You Are Using Old Password Add New Password"}):this.state.fields.newpassword!==this.state.fields.confirmpassword?x.a.fire({icon:"error",title:"New Passowrd And Confirm Password Does Not Match"}):j.a.post(o.c+"employee/update",s).then((e=>{this.setState({fields:t}),console.log(e.data),x.a.fire({icon:"success",title:"Your Password Has Been Changed Successfully",showConfirmButton:!1,timer:1500}),this.setState({setScreenOpen:0})})).catch((e=>{console.log(e)}))}render(){const{imageUrl:e}=this.state;return Object(p.jsx)("div",{className:"clearfix",children:Object(p.jsx)("div",{className:"row animateBox",children:this.state.data.map((t=>{var s,a;return Object(p.jsxs)("div",{className:"col-md-4 animated fadeIn",children:[Object(p.jsxs)("div",{className:"card",children:[Object(p.jsxs)("div",{className:"card-body",children:[Object(p.jsx)("div",{className:"avatar",children:null!==(null===(s=t.photo)||void 0===s?void 0:s.docpath)?Object(p.jsx)("img",{src:this.docServer+(null===(a=t.photo)||void 0===a?void 0:a.docpath),className:"card-img-top",alt:""}):Object(p.jsx)("img",{src:t.photo.urllink,className:"card-img-top",alt:""})}),Object(p.jsx)("ul",{children:Object(p.jsx)("h5",{className:"card-title",children:t.name})}),Object(p.jsxs)("ul",{className:"card-text",children:[Object(p.jsx)("span",{children:"Location:"}),t.city]}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("span",{className:"phone",children:"Phone:"}),t.phone]}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("span",{className:"phone",children:"Email:"}),t.email]})]}),Object(p.jsx)("div",{children:0===this.state.setScreenOpen?Object(p.jsxs)("div",{className:"btn_margin",children:[Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{style:{width:"33.33%",float:"left"},children:Object(p.jsx)("a",{href:"/#/home",children:Object(p.jsxs)("button",{onClick:e=>{this.logoutUser()},children:[" ","Log Out"," "]})})}),Object(p.jsx)("div",{style:{width:"33.33%",float:"left",textAlign:"center"},children:Object(p.jsx)("button",{onClick:()=>{this.updatepass()},children:"Change Password"})}),Object(p.jsx)("div",{style:{width:"33.33%",float:"left",textAlign:"right"},children:Object(p.jsx)("button",{onClick:e=>{this.updateProfile()},children:"Edit"})})]}),Object(p.jsx)("div",{})]}):null})]}),2===this.state.setScreenOpen?Object(p.jsx)("div",{className:"col-xs-2",children:Object(p.jsxs)("form",{onSubmit:this.submitpassword,children:[Object(p.jsxs)("div",{className:"card-body",children:[Object(p.jsxs)("ul",{children:[Object(p.jsx)("label",{className:"label",children:"Old Password"}),Object(p.jsx)("br",{}),Object(p.jsx)("input",{type:"password",required:!0,name:"oldpassword",className:"input",value:this.state.fields.oldpassword,onChange:this.handleChange})]}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("label",{className:"label",children:"New Password"}),Object(p.jsx)("br",{}),Object(p.jsx)("input",{type:"password",required:!0,name:"newpassword",className:"input",value:this.state.fields.newpassword,onChange:this.handleChange})]}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("label",{className:"label",children:"Confirm Password"}),Object(p.jsx)("br",{}),Object(p.jsx)("input",{type:"password",required:!0,name:"confirmpassword",className:"input",value:this.state.fields.confirmpassword,onChange:this.handleChange})]})]}),Object(p.jsx)("div",{className:"btn_margin",style:{margin:"0px 25px"},children:2===this.state.setScreenOpen?Object(p.jsx)("button",{type:"Submit",className:"btn btn-light btn-block w-50 mx-auto",children:"Submit"}):null})]})}):null,1===this.state.setScreenOpen?Object(p.jsx)("div",{className:"col-xs-2",children:Object(p.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(p.jsxs)("div",{className:"card-body",children:[Object(p.jsxs)("ul",{children:[Object(p.jsx)("label",{className:"label",children:"Phone"}),Object(p.jsx)("br",{}),Object(p.jsx)("input",{type:"text",className:"input",name:"phone",value:this.state.fieldss.phone,onChange:this.handleChange1,ref:e=>{this.Phone=e},placeholder:t.phone})]}),1===this.state.setotppage?Object(p.jsxs)("ul",{children:[Object(p.jsx)("button",{type:"submit",className:"otpchange",onClick:()=>{this.otpfunction()},children:"Send OTP"}),Object(p.jsx)("button",{className:"otpchange1",onClick:()=>{this.backpage()},children:"Cancel"}),Object(p.jsx)("br",{})]}):null,3===this.state.setotppage?Object(p.jsxs)("ul",{children:[Object(p.jsx)("input",{type:"number",className:"input",name:"otpnum",required:!0,placeholder:"Enter OTP",value:this.state.fieldsss.otpnum,id:"otpnum",onChange:this.handleChange2}),Object(p.jsx)("br",{}),Object(p.jsx)("button",{type:"submit",value:"Submit",className:"otpchange1",onClick:()=>{this.updatemployee()},children:"Submit"}),Object(p.jsx)("br",{})]}):null,0===this.state.setotppage?Object(p.jsx)("ul",{}):null,Object(p.jsxs)("ul",{children:[Object(p.jsx)("label",{className:"label",children:"City"}),Object(p.jsx)("br",{}),Object(p.jsx)("input",{type:"text",className:"input",ref:e=>{this.City=e},placeholder:t.city,name:"city"})]})]}),Object(p.jsxs)("div",{style:{padding:"15px 20px 0px 20px",textAlign:"center",display:"flex",flexDirection:"row"},children:[Object(p.jsx)("span",{style:{fontSize:"13px"},children:"Select Image:"}),Object(p.jsx)("span",{style:{marginBottom:10},children:Object(p.jsx)("input",{style:{fontSize:"12px",width:"auto"},type:"file",onChange:this.onChangeFile})}),Object(p.jsx)("div",{className:"up-img",children:e&&Object(p.jsx)("img",{src:e,className:"card-img-bottom",alt:""})})]}),Object(p.jsx)("div",{className:"btn_margin",style:{margin:"0px 20px"},children:1===this.state.setScreenOpen?Object(p.jsx)("button",{type:"Submit",className:"btn btn-light btn-block w-50 mx-auto",children:"Submit"}):null})]})}):null]},t.id.value)}))})})}}var ce=ae,le=s(11),ie=(s(1201),s(821)),ne=s(813);function re(){const[e,t]=Object(a.useState)([]),[s,c]=Object(a.useState)([]),[l,i]=Object(a.useState)([]),[n,r]=Object(a.useState)([]),[d,h]=Object(a.useState)([]),[b,m]=Object(a.useState)([]),[x,u]=Object(a.useState)([]),[O,g]=Object(a.useState)([]),[f,y]=Object(a.useState)([]),[v,N]=Object(a.useState)([]),[S,C]=Object(a.useState)([]),[w,T]=Object(a.useState)([]);function k(e){let t=e.replace(/_/g," ");return t.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))}function A(e){return e.substr(0,3)}return ie.f.register(ie.e,ie.k,ie.c,ie.j,ie.a,ie.p,ie.q,ie.h),Object(a.useEffect)((()=>{j.a.get(o.c+"stats/summery").then((e=>{t([{...null===e||void 0===e?void 0:e.data}]),console.log(e.data)})),j.a.get(o.c+"stats/project/monthly").then((e=>{c([...null===e||void 0===e?void 0:e.data]),console.log(e.data)})),j.a.get(o.c+"stats/customer/monthly").then((e=>{i([...null===e||void 0===e?void 0:e.data]),console.log(e.data)})),j.a.get(o.c+"stats/chart?type=PROJECTTYPE").then((e=>{r([...null===e||void 0===e?void 0:e.data]),console.log(e.data)})),j.a.get(o.c+"stats/chart?type=PROJECTGENRE").then((e=>{h([...null===e||void 0===e?void 0:e.data]),console.log(e.data)})),j.a.get(o.c+"stats/chart?type=PROJECTFAQS").then((e=>{m([...null===e||void 0===e?void 0:e.data]),console.log(e.data)})),j.a.get(o.c+"stats/track/summery").then((e=>{u([{...null===e||void 0===e?void 0:e.data}]),console.log(e.data)})),j.a.get(o.c+"stats/track/monthly").then((e=>{g([...null===e||void 0===e?void 0:e.data]),console.log(e.data)})),j.a.get(o.c+"stats/track/chart?type=STATUS").then((e=>{y([...null===e||void 0===e?void 0:e.data]),console.log(e.data)})),j.a.get(o.c+"stats/track/chart?type=ARM").then((e=>{N([...null===e||void 0===e?void 0:e.data]),console.log(e.data)})),j.a.get(o.c+"stats/track/chart?type=TRACK").then((e=>{C([...null===e||void 0===e?void 0:e.data]),console.log(e.data)})),j.a.get(o.c+"stats/track/chart?type=GENRE").then((e=>{T([...null===e||void 0===e?void 0:e.data]),console.log(e.data)}))}),[]),Object(p.jsxs)("div",{className:"dashboardPage",children:[Object(p.jsx)("h1",{children:"Dashboard"}),Object(p.jsx)("div",{className:"row",children:Object(p.jsxs)("div",{className:"col-md-4 animated fadeIn",children:[Object(p.jsx)("div",{className:"col-md-5 dashpadding",children:Object(p.jsxs)("div",{className:"dashcard",children:[Object(p.jsx)("h3",{className:"padding",children:"Choira Summary"}),Object(p.jsx)("table",{id:"dashboardPage",children:Object(p.jsx)("tbody",{children:e.map(((e,t)=>{const{totalProject:s,totalActive:a,totalInactive:c,totalUser:l,totalAM:i,todayProject:n,currentmonthProject:r,lastmonthProject:d}=e;return Object(p.jsxs)("tr",{children:[Object(p.jsxs)("td",{children:[Object(p.jsx)("ul",{children:Object(p.jsx)("span",{children:"Total Project:"})}),Object(p.jsx)("ul",{children:Object(p.jsx)("span",{children:"Active Project:"})}),Object(p.jsx)("ul",{children:Object(p.jsx)("span",{children:"Inactive Project:"})}),Object(p.jsx)("ul",{children:Object(p.jsx)("span",{children:"Total User:"})}),Object(p.jsx)("ul",{children:Object(p.jsx)("span",{children:"Total Artist Manager:"})}),Object(p.jsx)("ul",{children:Object(p.jsx)("span",{children:"Today's Project:"})}),Object(p.jsx)("ul",{children:Object(p.jsx)("span",{children:"Current Month Project:"})}),Object(p.jsx)("ul",{children:Object(p.jsx)("span",{children:"Last Month Project:"})})]}),Object(p.jsxs)("td",{className:"text-align-center",children:[Object(p.jsx)("ul",{children:s}),Object(p.jsx)("ul",{children:a}),Object(p.jsx)("ul",{children:c}),Object(p.jsx)("ul",{children:l}),Object(p.jsx)("ul",{children:i}),Object(p.jsx)("ul",{children:n}),Object(p.jsx)("ul",{children:r}),Object(p.jsx)("ul",{children:d})]})]},t)}))})})]})}),Object(p.jsx)("div",{className:"col-md-5 dashpadding",children:Object(p.jsxs)("div",{className:"dashcard",children:[Object(p.jsx)("h3",{className:"padding",children:"Project Faqs Summary"}),Object(p.jsx)("table",{id:"dashboardPage",children:Object(p.jsx)("tbody",{children:function(){const e=b.map((e=>k(e.name))),t=b.map((e=>e.count));return Object(p.jsx)("div",{style:{maxWidth:"300px"},children:Object(p.jsx)(ne.b,{data:{labels:e,datasets:[{label:"Total Help",data:t,backgroundColor:["#F9D1D1","#FFA4B6","#F765A3","#A155B9","#165BAA","#OB1354"],borderColor:["#fff"],borderWidth:.5}]}})})}()})})]})}),Object(p.jsx)("div",{className:"col-md-5 dashpadding",children:Object(p.jsxs)("div",{className:"dashcard",children:[Object(p.jsx)("h3",{className:"padding",children:"Project Type Summary"}),Object(p.jsx)("table",{id:"dashboardPage",children:Object(p.jsx)("tbody",{children:function(){const e=n.map((e=>k(e.name))),t=n.map((e=>e.count));return Object(p.jsx)("div",{style:{maxWidth:"300px"},children:Object(p.jsx)(ne.b,{data:{labels:e,datasets:[{label:"Total Type",data:t,backgroundColor:["#0B1354","#165BAA","#A155B9","#F765A3","#FFA4B6","#F9D1D1"],borderColor:["#fff"],fill:!1,lineTension:.4}]}})})}()})})]})}),Object(p.jsx)("div",{className:"col-md-5 dashpadding",children:Object(p.jsxs)("div",{className:"dashcard",children:[Object(p.jsx)("h3",{className:"padding",children:"Project Genre Summary"}),Object(p.jsx)("table",{id:"dashboardPage",children:Object(p.jsx)("tbody",{children:function(){const e=d.map((e=>k(e.name))),t=d.map((e=>e.count));return Object(p.jsx)("div",{style:{maxWidth:"300px"},children:Object(p.jsx)(ne.b,{data:{labels:e,datasets:[{label:"Total Genre",data:t,backgroundColor:["#F9D1D1","#FFA4B6","#F765A3","#A155B9","#165BAA","#OB1354"],borderColor:["#fff"],fill:!1,lineTension:.4}]}})})}()})})]})})]})}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-md-5 dashpadding",children:Object(p.jsxs)("div",{className:"dashcard",children:[Object(p.jsx)("h3",{className:"padding",children:"Per Month Projects Count"}),Object(p.jsx)("table",{id:"dashboardPage",children:Object(p.jsx)("tbody",{children:function(){const e=s.map((e=>A(e.month)+"-"+e.year)),t=s.map((e=>e.count));return Object(p.jsx)("div",{style:{maxWidth:"650px"},children:Object(p.jsx)(ne.a,{data:{labels:e,datasets:[{label:"Total Projects ",data:t,backgroundColor:["#F765A3"],borderColor:["#fff"],borderWidth:.5}]}})})}()})})]})}),Object(p.jsx)("div",{className:"col-md-5 dashpadding",children:Object(p.jsxs)("div",{className:"dashcard",children:[Object(p.jsx)("h3",{className:"padding",children:"Per Month User Count"}),Object(p.jsx)("table",{id:"dashboardPage",children:Object(p.jsx)("tbody",{children:function(){const e=l.map((e=>A(e.month)+"-"+e.year)),t=l.map((e=>e.count));return Object(p.jsx)("div",{style:{maxWidth:"650px"},children:Object(p.jsx)(ne.a,{data:{labels:e,datasets:[{label:"Total Users",data:t,backgroundColor:["#165BAA"],borderColor:["#fff"],borderWidth:.5}]}})})}()})})]})})]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-md-5 dashpadding",children:Object(p.jsxs)("div",{className:"dashcard",children:[Object(p.jsx)("h3",{className:"padding",children:"Choira Tracks Summary"}),Object(p.jsx)("table",{id:"dashboardPage",children:Object(p.jsx)("tbody",{children:x.map(((e,t)=>{const{totalTracks:s,totalSold:a,totalPublished:c,totalSubmitted:l,todays:i,currentmonth:n,lastmonth:r,lastmonthGST:d}=e;return Object(p.jsxs)("tr",{children:[Object(p.jsxs)("td",{children:[Object(p.jsx)("ul",{children:Object(p.jsx)("span",{children:"Total Tracks:"})}),Object(p.jsx)("ul",{children:Object(p.jsx)("span",{children:"Total Sold:"})}),Object(p.jsx)("ul",{children:Object(p.jsx)("span",{children:"Total Published:"})}),Object(p.jsx)("ul",{children:Object(p.jsx)("span",{children:"Total Submitted:"})}),Object(p.jsx)("ul",{children:Object(p.jsx)("span",{children:"Todays:"})}),Object(p.jsx)("ul",{children:Object(p.jsx)("span",{children:"Current Month:"})}),Object(p.jsx)("ul",{children:Object(p.jsx)("span",{children:"Last Month:"})}),Object(p.jsx)("ul",{children:Object(p.jsx)("span",{children:"Last Month GST:"})})]}),Object(p.jsxs)("td",{className:"text-align-center",children:[Object(p.jsx)("ul",{children:s}),Object(p.jsx)("ul",{children:a}),Object(p.jsx)("ul",{children:c}),Object(p.jsx)("ul",{children:l}),Object(p.jsx)("ul",{children:i}),Object(p.jsx)("ul",{children:n}),Object(p.jsx)("ul",{children:r}),Object(p.jsx)("ul",{children:d})]})]},t)}))})})]})}),Object(p.jsx)("div",{className:"col-md-5 dashpadding",children:Object(p.jsxs)("div",{className:"dashcard",children:[Object(p.jsx)("h3",{className:"padding",children:"Status Type Tracks Summary"}),Object(p.jsx)("table",{id:"dashboardPage",children:Object(p.jsx)("tbody",{children:function(){const e=f.map((e=>k(e.name))),t=f.map((e=>e.count));return Object(p.jsx)("div",{style:{maxWidth:"300px"},children:Object(p.jsx)(ne.b,{data:{labels:e,datasets:[{label:"Total Help",data:t,backgroundColor:["#F9D1D1","#FFA4B6","#F765A3","#A155B9","#165BAA","#OB1354"],borderColor:["#fff"],borderWidth:.5}]}})})}()})})]})}),Object(p.jsx)("div",{className:"col-md-5 dashpadding",children:Object(p.jsxs)("div",{className:"dashcard",children:[Object(p.jsx)("h3",{className:"padding",children:"Tracks ARM Summary"}),Object(p.jsx)("table",{id:"dashboardPage",children:Object(p.jsx)("tbody",{children:function(){const e=v.map((e=>k(e.name))),t=v.map((e=>e.count));return Object(p.jsx)("div",{style:{maxWidth:"300px"},children:Object(p.jsx)(ne.b,{data:{labels:e,datasets:[{label:"Total Help",data:t,backgroundColor:["#F9D1D1","#FFA4B6","#F765A3","#A155B9","#165BAA","#OB1354"],borderColor:["#fff"],borderWidth:.5}]}})})}()})})]})}),Object(p.jsx)("div",{className:"col-md-5 dashpadding",children:Object(p.jsxs)("div",{className:"dashcard",children:[Object(p.jsx)("h3",{className:"padding",children:"Tracks Summary"}),Object(p.jsx)("table",{id:"dashboardPage",children:Object(p.jsx)("tbody",{children:function(){const e=S.map((e=>k(e.name))),t=S.map((e=>e.count));return Object(p.jsx)("div",{style:{maxWidth:"300px"},children:Object(p.jsx)(ne.b,{data:{labels:e,datasets:[{label:"Total Help",data:t,backgroundColor:["#F9D1D1","#FFA4B6","#F765A3","#A155B9","#165BAA","#OB1354"],borderColor:["#fff"],borderWidth:.5}]}})})}()})})]})})]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-md-5 dashpadding",children:Object(p.jsxs)("div",{className:"dashcard",children:[Object(p.jsx)("h3",{className:"padding",children:"Tracks Genre Summary"}),Object(p.jsx)("table",{id:"dashboardPage",children:Object(p.jsx)("tbody",{children:function(){const e=w.map((e=>k(e.name))),t=w.map((e=>e.count));return Object(p.jsx)("div",{style:{maxWidth:"300px"},children:Object(p.jsx)(ne.b,{data:{labels:e,datasets:[{label:"Total Help",data:t,backgroundColor:["#F9D1D1","#FFA4B6","#F765A3","#A155B9","#165BAA","#OB1354"],borderColor:["#fff"],borderWidth:.5}]}})})}()})})]})}),Object(p.jsx)("div",{className:"col-md-5 dashpadding",children:Object(p.jsxs)("div",{className:"dashcard",children:[Object(p.jsx)("h3",{className:"padding",children:"Per Month Tracks Count"}),Object(p.jsx)("table",{id:"dashboardPage",children:Object(p.jsx)("tbody",{children:function(){const e=O.map((e=>A(e.month)+"-"+e.year)),t=s.map((e=>e.count));return Object(p.jsx)("div",{style:{maxWidth:"650px"},children:Object(p.jsx)(ne.a,{data:{labels:e,datasets:[{label:"Total Projects ",data:t,backgroundColor:["#F765A3"],borderColor:["#fff"],borderWidth:.5}]}})})}()})})]})})]})]})}function de(){const[e,t]=Object(a.useState)(1);return Object(p.jsx)(p.Fragment,{children:1===e?Object(p.jsx)(re,{}):null})}s(739);let oe;class he extends c.a.Component{constructor(e){super(e),this.onChangeFile=e=>{if(this.setState({selectedFile:e.target.files[0]}),""!==e.target.files[0]){var t=new FileReader;t.onload=e=>{this.setState({imageUrl:e.target.result})},t.readAsDataURL(e.target.files[0]),this.setState({photo:{docname:e.target.files[0].name,doctype:"genre",docpath:"genre/"+e.target.files[0].name,docdesc:"genre photo"}})}},this.handleUpload=e=>{const t=o.c+"common/doc/upload",{selectedFile:s}=this.state;if(!s)return this.setState({handleResponse:{isSuccess:!1,message:"Please select image to upload."}}),!1;const a=new FormData;a.append("doc",s,this.state.selectedFile.name),a.append("name","genre/"+e),a.append("width","400"),a.append("height","400"),j.a.post(t,a).then((t=>{this.updateCustomer(e),this.setState({handleResponse:{isSuccess:200===t.status,message:t.data.message}})})).catch((e=>{alert(e.message)}))},this.state={photo:{},selectedFile:null,handleResponse:null,imageUrl:null,setemployeescreen:0,genrestatus:""},this.handleStatusChange=this.handleStatusChange.bind(this),this.submituserRegistrationForm=this.submituserRegistrationForm.bind(this)}submituserRegistrationForm(e){e.preventDefault(),console.log("this.state.genrestatus"),console.log(this.state.genrestatus);let t={genre:this.state.genrestatus};j.a.post(o.c+"genre",t).then((e=>{oe=e.data.id,this.handleUpload(oe),x.a.fire({icon:"success",title:"Submitted",showConfirmButton:!1,timer:1500}),this.props.Backgenre(),console.log(e.data)})).catch((e=>{console.log(e),x.a.fire({icon:"error",title:"Duplicate Genre"})}))}updateCustomer(e){let t={id:e,photo:{docname:this.state.selectedFile.name,doctype:"genre",docpath:"genre/"+e+"/"+this.state.selectedFile.name,docdesc:"genre photo"}};j.a.post(o.c+"genre/update",t).then((e=>{x.a.fire({icon:"success",title:"Submitted",showConfirmButton:!1,timer:1500}),this.props.Backgenre(),console.log(e.data)})).catch((e=>{console.log(e),x.a.fire({icon:"error",title:"Duplicate User"})}))}handleStatusChange(e){let t=e.target.value;this.setState({genrestatus:t})}render(){const{imageUrl:e}=this.state;return Object(p.jsx)("div",{children:Object(p.jsx)("div",{className:"card",children:Object(p.jsx)("div",{className:"card-body ",children:Object(p.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-capitalize",children:Object(p.jsxs)("div",{className:"panel panel-default cart-border",children:[Object(p.jsx)("div",{className:"panel-heading panel-style",children:Object(p.jsx)("span",{children:Object(p.jsx)("h3",{style:{color:"#ffc701"},children:Object(p.jsx)("span",{style:{float:"left"},children:"Add Genre"})})})}),Object(p.jsx)("div",{className:"panel-body",children:Object(p.jsx)("div",{className:"table-responsive table-style",children:Object(p.jsxs)("form",{method:"post",name:"genreadd",onSubmit:this.submituserRegistrationForm,children:[Object(p.jsx)("div",{children:Object(p.jsx)("div",{children:Object(p.jsxs)("div",{style:{marginTop:"8px"},className:"genestyle",children:[Object(p.jsx)("p",{style:{fontSize:"19px",marginBottom:"9px",textAlign:"left"},children:"Select Genre Type"}),Object(p.jsxs)("select",{id:"dropdown",name:"id",value:this.state.genrestatus,onChange:this.handleStatusChange,style:{width:"100%",padding:"14px",borderRadius:"12px"},children:[Object(p.jsx)("option",{value:"0",children:"Select Genre"}),Object(p.jsx)("option",{value:"HIP_HOP",children:"HIP HOP"}),Object(p.jsx)("option",{value:"BOLLYWOOD",children:"BOLLYWOOD"}),Object(p.jsx)("option",{value:"POP",children:"POP"}),Object(p.jsx)("option",{value:"HIP_POP",children:"HIP POP"}),Object(p.jsx)("option",{value:"BOLLYWOOD_POP",children:"BOLLYWOOD POP"}),Object(p.jsx)("option",{value:"INDIE_POP",children:"INDIE POP"}),Object(p.jsx)("option",{value:"ROCK",children:"ROCK"}),Object(p.jsx)("option",{value:"SUFI",children:"SUFI"}),Object(p.jsx)("option",{value:"LOFI",children:"LOFI"}),Object(p.jsx)("option",{value:"COUNTRY",children:"COUNTRY"}),Object(p.jsx)("option",{value:"EDM",children:"EDM"}),Object(p.jsx)("option",{value:"INDIAN_CLASSICAL",children:"INDIAN CLASSICAL"})]})]})})}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"column",children:Object(p.jsxs)("div",{style:{marginTop:"8px"},children:[Object(p.jsxs)("label",{style:{float:"left",marginBottom:"8px"},children:[" ",Object(p.jsx)("span",{children:"Select Image:"})]}),Object(p.jsx)("input",{type:"file",className:"textstyle",onChange:this.onChangeFile})]})}),Object(p.jsx)("div",{className:"column",children:Object(p.jsx)("div",{style:{marginTop:"8px"},children:Object(p.jsx)("img",{style:{height:"185px",width:"175px"},src:e,className:"card-img-top"})})})]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{style:{margin:"15px",float:"left"},children:Object(p.jsx)("button",{type:"submit",className:"btn-primary",style:{color:"White"},children:"Submit"})}),Object(p.jsx)("div",{style:{margin:"15px",float:"right"},children:Object(p.jsx)("button",{type:"cancel",onClick:()=>{this.props.Backgenre()},className:"btn-primary",style:{color:"White"},children:"Cancel"})})]})]})})})]})})})})})}}var je=he;class pe extends c.a.Component{constructor(e){super(e),this.initfun=()=>{let e=this.props.genreid;j.a.get(o.c+"genre/"+e).then((e=>{this.setState({data:e.data,scrolling:!1,genrestatus:e.data.genre}),console.log("status",e.data.status)}))},this.onChangeFile=e=>{if(this.setState({selectedFile:e.target.files[0]}),""!==e.target.files[0]){var t=new FileReader;t.onload=e=>{this.setState({imageUrl:e.target.result})},t.readAsDataURL(e.target.files[0]),this.setState({photo:{docname:e.target.files[0].name,doctype:"genre",docpath:"genre/"+this.props.genreid+"/"+e.target.files[0].name,docdesc:"genre photo"}})}},this.handleUpload=()=>{let e=this.props.genreid;const t=o.c+"common/doc/upload",{selectedFile:s}=this.state;if(!s)return this.setState({handleResponse:{isSuccess:!1,message:"Please select image to upload."}}),!1;const a=new FormData;a.append("doc",s,this.state.selectedFile.name),a.append("name","genre/"+e),a.append("width","400"),a.append("height","400"),j.a.post(t,a).then((e=>{this.setState({handleResponse:{isSuccess:200===e.status,message:e.data.message}})})).catch((e=>{alert(e.message)}))},this.state={photo:{},selectedFile:null,handleResponse:null,imageUrl:null,genrestatus:"",docServer:o.a,data:[]},this.handleStatusChange=this.handleStatusChange.bind(this),this.submituserRegistrationForm=this.submituserRegistrationForm.bind(this)}componentDidMount(){this.initfun()}submituserRegistrationForm(e){e.preventDefault();let t={id:this.props.genreid,genre:this.state.genrestatus,photo:{}};t.photo=this.state.photo,j.a.post(o.c+"genre/update",t).then((e=>{x.a.fire({icon:"success",title:"Updated",showConfirmButton:!1,timer:1500}),this.handleUpload(),this.props.Backgenre(),console.log(e.data)})).catch((e=>{console.log(e),x.a.fire({icon:"error",title:"Duplicate Genre"})}))}handleStatusChange(e){let t=e.target.value;this.setState({genrestatus:t})}render(){var e;const{imageUrl:t}=this.state;return Object(p.jsx)("div",{children:Object(p.jsx)("div",{className:"card",children:Object(p.jsx)("div",{className:"card-body ",children:Object(p.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-capitalize",children:Object(p.jsxs)("div",{className:"panel panel-default cart-border",children:[Object(p.jsx)("div",{className:"panel-heading panel-style",children:Object(p.jsx)("span",{children:Object(p.jsx)("h3",{style:{color:"#ffc701"},children:Object(p.jsx)("span",{style:{float:"left"},children:"Edit Genre"})})})}),Object(p.jsx)("div",{className:"panel-body",children:Object(p.jsx)("div",{className:"table-responsive table-style",children:Object(p.jsxs)("form",{method:"post",name:"genredit",onSubmit:this.submituserRegistrationForm,children:[Object(p.jsx)("div",{children:Object(p.jsx)("div",{children:Object(p.jsxs)("div",{style:{marginTop:"8px"},className:"genestyle",children:[Object(p.jsx)("p",{style:{fontSize:"19px",marginBottom:"9px",textAlign:"left"},children:"Select"}),Object(p.jsxs)("select",{id:"dropdown",name:"id",value:this.state.genrestatus,onChange:this.handleStatusChange,style:{width:"100%",padding:"14px",borderRadius:"12px"},children:[Object(p.jsx)("option",{value:"HIP_HOP",children:"HIP HOP"}),Object(p.jsx)("option",{value:"BOLLYWOOD",children:"BOLLYWOOD"}),Object(p.jsx)("option",{value:"POP",children:"POP"}),Object(p.jsx)("option",{value:"HIP_POP",children:"HIP POP"}),Object(p.jsx)("option",{value:"BOLLYWOOD_POP",children:"BOLLYWOOD POP"}),Object(p.jsx)("option",{value:"INDIE_POP",children:"INDIE POP"}),Object(p.jsx)("option",{value:"ROCK",children:"ROCK"}),Object(p.jsx)("option",{value:"SUFI",children:"SUFI"}),Object(p.jsx)("option",{value:"LOFI",children:"LOFI"}),Object(p.jsx)("option",{value:"COUNTRY",children:"COUNTRY"}),Object(p.jsx)("option",{value:"EDM",children:"EDM"}),Object(p.jsx)("option",{value:"INDIAN_CLASSICAL",children:"INDIAN CLASSICAL"})]})]})})}),Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("div",{className:"column",children:Object(p.jsxs)("div",{style:{marginTop:"8px"},children:[Object(p.jsx)("label",{style:{float:"left",marginBottom:"8px"},children:"Photo"}),Object(p.jsx)("img",{style:{height:"200px",width:"200px"},src:this.state.docServer+(null===(e=this.state.data.photo)||void 0===e?void 0:e.docpath),className:"card-img-top"})]})})}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"column",children:Object(p.jsxs)("div",{style:{marginTop:"8px"},children:[Object(p.jsxs)("label",{style:{float:"left",marginBottom:"8px"},children:[" ",Object(p.jsx)("span",{children:"Select Image:"})]}),Object(p.jsx)("input",{type:"file",className:"textstyle",onChange:this.onChangeFile})]})}),Object(p.jsx)("div",{className:"column",children:Object(p.jsx)("div",{style:{marginTop:"8px"},children:Object(p.jsx)("img",{style:{height:"185px",width:"175px"},src:t,className:"card-img-top"})})})]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{style:{margin:"15px",float:"left"},children:Object(p.jsx)("button",{type:"submit",className:"btn-primary",style:{color:"White"},children:"Update"})}),Object(p.jsx)("div",{style:{margin:"15px",float:"right"},children:Object(p.jsx)("button",{type:"cancel",onClick:()=>{this.props.Backgenre()},className:"btn-primary",style:{color:"White"},children:"Cancel"})})]})]})})})]})})})})})}}var be=pe;function me(e){const[t,s]=Object(a.useState)([]),[c,l]=Object(a.useState)(""),[i,n]=Object(a.useState)(1),{showaddgenre:r}=e,{showEditgenre:d}=e;Object(a.useEffect)((()=>{h()}),[]);const h=()=>{j.a.get(o.c+"genre").then((e=>{s([...e.data]),console.log(e.data[0])}))};function b(e){if(e){let t=e.replace(/_/g," ");return t.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))}}return Object(p.jsx)("div",{children:1===i?Object(p.jsx)("div",{className:"card",children:Object(p.jsx)("div",{className:"card-body ",children:Object(p.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-capitalize",children:Object(p.jsxs)("div",{className:"panel panel-default cart-border",children:[Object(p.jsx)("div",{className:"panel-heading panel-style",children:Object(p.jsxs)("h3",{style:{color:"#ffc701"},children:[Object(p.jsx)("span",{style:{float:"left"},children:"Manage Genre"}),Object(p.jsx)("span",{style:{float:"right",cursor:"pointer"},title:"Add Genre",onClick:()=>{r()},children:Object(p.jsx)("i",{className:"fa fa-plus"})})]})}),Object(p.jsx)("div",{className:"panel-body",children:Object(p.jsx)("div",{className:"table-responsive table-style",children:Object(p.jsxs)("table",{id:"projects",children:[Object(p.jsxs)("thead",{children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Action"})]}),Object(p.jsx)("tr",{children:Object(p.jsx)("th",{colSpan:"12",children:Object(p.jsxs)("div",{className:"Search",children:[Object(p.jsx)("input",{type:"text",className:"inputetype",onChange:e=>{l(e.target.value)},placeholder:"Search",name:"search"}),Object(p.jsx)("button",{type:"submit",className:"btn-primary",style:{color:"White"},children:Object(p.jsx)("i",{className:"fa fa-search"})})]})})})]}),Object(p.jsx)("tbody",{children:t.filter((e=>""===c||!!e.genre.toLowerCase().includes(c.toLowerCase()))).map((e=>Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:b(e.genre)}),Object(p.jsxs)("td",{style:{textAlign:"right"},children:[Object(p.jsx)("span",{title:"Genre Update",style:{color:"white"},onClick:()=>{var t;t=e.id,d(t)},children:Object(p.jsx)("button",{children:Object(p.jsx)("i",{className:"fa fa-edit"})})}),"\xa0 \xa0",Object(p.jsx)("span",{onClick:()=>{var t;t=e.id,x.a.fire({title:"Are you sure?",text:"You will not be able to recover this Genre data!",type:"Warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then((e=>{e.value&&j.a.delete(o.c+"genre/"+t).then((e=>{x.a.fire("Deleted!","Your data has been deleted.","success"),console.log(e),h()}))}))},title:"Genre Delete",style:{color:"white"},children:Object(p.jsx)("button",{children:Object(p.jsx)("i",{className:"fa fa-trash"})})})]})]},e.id)))})]})})})]})})})}):null})}let xe=0;function ue(){const[e,t]=Object(a.useState)(1),s=()=>{t(1)};return Object(p.jsx)(p.Fragment,{children:1===e?Object(p.jsx)(me,{showaddgenre:()=>{t(2)},showEditgenre:e=>{e>0?(xe=e,t(3)):x.a.fire({icon:"warning",title:"Something Happen",text:"Please try again after some time.",showConfirmButton:!1,timer:5500})}}):2===e?Object(p.jsx)(je,{Backgenre:s}):3===e?Object(p.jsx)(be,{genreid:xe,Backgenre:s}):null})}s(740);let Oe,ge=Math.random().toString(36).substring(7)+(new Date).getTime();class fe extends c.a.Component{constructor(){super(),this.photoUpload=()=>{console.log(Oe);const e=o.c+"common/doc/upload",{selectedImage:t}=this.state;if(!t)return this.setState({handleResponse:{isSuccess:!1,message:"Please select image to upload."}}),!1;const s=new FormData;s.append("doc",t,ge+this.state.selectedImage.name),s.append("name","soundtrack/Photo"),s.append("width","400"),s.append("height","400"),j.a.post(e,s).then((e=>{this.setState({handleResponse:{isSuccess:200===e.status,message:e.data.message}})})).catch((e=>{alert(e.message)}))},this.getdata=()=>{j.a.get(o.c+"genre").then((e=>{this.setState({projectvalue:e.data,scrolling:!1}),console.log(e.data)}))},this.onChangeFile1=e=>{if(this.setState({selectedAudio:e.target.files[0]}),""!==e.target.files[0]){var t=new FileReader;t.onload=e=>{this.setState({imageUrl1:e.target.result})},t.readAsDataURL(e.target.files[0]),this.setState({track:{docname:e.target.files[0].name1,doctype:"track",docpath:"soundtrack/"+ge+e.target.files[0].name1,docdesc:"track"}})}},this.audioUpload=()=>{const e=o.c+"common/doc/upload",{selectedAudio:t}=this.state;if(!t)return this.setState({handleResponse:{isSuccess:!1,message:"Please select audio to upload."}}),!1;const s=new FormData;s.append("doc",t,ge+this.state.selectedAudio.name),s.append("name","soundtrack/Audio"),s.append("width",""),s.append("height",""),j.a.post(e,s).then((e=>{this.setState({handleResponse:{isSuccess:200===e.status,message:e.data.message}})})).catch((e=>{}))},this.onChangeFile=e=>{if(this.setState({selectedImage:e.target.files[0]}),""!==e.target.files[0]){var t=new FileReader;t.onload=e=>{this.setState({imageUrl:e.target.result})},t.readAsDataURL(e.target.files[0]),this.setState({photo:{docname:e.target.files[0].name,doctype:"soundtrack1",docpath:"soundtrack/"+ge+e.target.files[0].name,urllink:""}})}},this.state={fields:{},photo:{},selectedImage:null,selectedAudio:null,handleResponse:null,imageUrl:null,track:{},imageUrl1:null,projectvalue:[],docServer:o.a,tracktypess:"NON_FEATURED",statustrack:"PUBLISHED",genre:"HIP_HOP",trackid:"",uploadedby:JSON.parse(localStorage.getItem("userData")).name},this.handleChange=this.handleChange.bind(this),this.updatedata=this.updatedata.bind(this),this.handleStatusChange=this.handleStatusChange.bind(this),this.handletrackstatus=this.handletrackstatus.bind(this),this.handleGenrestatus=this.handleGenrestatus.bind(this)}componentDidMount(){this.getdata()}handleChange(e){let t=this.state.fields;t[e.target.name]=e.target.value,this.setState({fields:t}),console.log(this.state)}handleStatusChange(e){let t=e.target.value;this.setState({statustrack:t})}handletrackstatus(e){let t=e.target.value;this.setState({tracktypess:t})}handleGenrestatus(e){let t=e.target.value;this.setState({genre:t})}updatedata(e){e.preventDefault();let t={name:"",composer:"",description:"",price:""};"NON_FEATURED"===this.state.tracktypess&&(this.state.fields.price="0"),this.photoUpload(),this.audioUpload(),console.log("this.state.fields"),console.log(this.state.fields),console.log(this.state.statustrack),console.log(this.state.tracktypes);let s={name:this.state.fields.name,tracktype:this.state.tracktypess,composer:this.state.fields.composer,description:this.state.fields.description,price:this.state.fields.price,status:this.state.statustrack,uploadedby:this.state.uploadedby,genre:this.state.genre,photo:{docname:this.state.selectedImage.name,doctype:"soundtrack",docpath:"soundtrack/Photo/"+ge+this.state.selectedImage.name,docdesc:"soundtrack"},track:{docname:this.state.selectedAudio.name,docpath:"soundtrack/Audio/"+ge+this.state.selectedAudio.name,docdesc:"track",doctype:"track"}};j.a.post(o.c+"soundTrack",s).then((e=>{this.setState({fields:t,trackid:e.data.id}),console.log("soundTrack",e),console.log("trackid",this.state.trackid),Oe=e.data.id,x.a.fire({icon:"success",title:"Submitted",showConfirmButton:!1,timer:1500}),this.props.goBack()})).catch((e=>{x.a.fire({icon:"error",title:"SoundTrack And Genre Already Exist ",showConfirmButton:!1,timer:3500}),console.log(e)}))}render(){const{imageUrl:e,imageUrl1:t}=this.state;return Object(p.jsx)("div",{className:"card",children:Object(p.jsx)("div",{className:"card-body ",children:Object(p.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-capitalize",children:Object(p.jsxs)("div",{className:"panel panel-default cart-border",children:[Object(p.jsx)("div",{className:"panel-heading panel-style",children:Object(p.jsx)("h3",{style:{color:"#ffc701"},children:Object(p.jsx)("span",{style:{float:"left"},children:"Add Sound Track"})})}),Object(p.jsx)("div",{className:"panel-body",children:Object(p.jsx)("div",{className:"table-responsive table-style",children:Object(p.jsxs)("form",{method:"post",name:"userRegistrationForm",onSubmit:this.updatedata,children:[Object(p.jsxs)("div",{className:"row1",children:[Object(p.jsxs)("div",{className:"column1",children:[Object(p.jsxs)("div",{style:{marginTop:"19px"},children:[Object(p.jsx)("label",{style:{float:"left",marginBottom:"8px"},children:"Name"}),Object(p.jsx)("input",{type:"text",className:"textstyle",name:"name",id:"name",value:this.state.fields.name,onChange:this.handleChange})]}),Object(p.jsxs)("div",{style:{marginTop:"25px"},children:[Object(p.jsx)("label",{style:{float:"left",marginBottom:"8px"},children:"Artist"}),Object(p.jsx)("input",{type:"text",className:"textstyle",name:"composer",id:"composer",value:this.state.fields.composer,onChange:this.handleChange})]}),Object(p.jsxs)("div",{style:{marginTop:"25px"},children:[Object(p.jsx)("label",{style:{float:"left",marginBottom:"8px"},children:"Uploaded By"}),Object(p.jsx)("input",{type:"text",disabled:!0,className:"textstyle",id:"uploadedby",name:"uploadedby",value:this.state.uploadedby,onChange:this.handleChange})]})]}),Object(p.jsxs)("div",{className:"column1",children:[Object(p.jsxs)("div",{style:{marginTop:"19px"},children:[Object(p.jsx)("label",{style:{float:"left",marginBottom:"8px"},children:"Track Type"}),Object(p.jsxs)("select",{name:"tracktype",value:this.state.tracktypess,onChange:this.handletrackstatus,id:"trackstatus",style:{borderRadius:"10px",padding:"8px",width:"100%"},children:[Object(p.jsx)("option",{value:"NON_FEATURED",children:"NON_FEATURED"}),Object(p.jsx)("option",{value:"FEATURED",children:"FEATURED"})]})]}),Object(p.jsxs)("div",{style:{marginTop:"25px"},children:[Object(p.jsx)("label",{style:{float:"left",marginBottom:"8px"},children:"Description"}),Object(p.jsx)("input",{type:"text",className:"textstyle",id:"description",name:"description",value:this.state.fields.description,onChange:this.handleChange})]}),"FEATURED"===this.state.tracktypess?Object(p.jsxs)("div",{style:{marginTop:"25px"},children:[Object(p.jsx)("label",{style:{float:"left",marginBottom:"8px"},children:"Price"}),Object(p.jsx)("input",{type:"number",className:"textstyle",id:"price",name:"price",value:this.state.fields.price,onChange:this.handleChange})]}):null,Object(p.jsxs)("div",{style:{marginTop:"25px"},children:[Object(p.jsx)("label",{style:{float:"left",marginBottom:"8px"},children:"Genre Type"}),Object(p.jsxs)("select",{name:"genre",value:this.state.genretypes,onChange:this.handleGenrestatus,id:"genrestatus",style:{borderRadius:"10px",padding:"8px",width:"100%"},children:[Object(p.jsx)("option",{value:"0",children:"Select"}),this.state.projectvalue.map((e=>Object(p.jsx)("option",{value:e.name,children:e.genre})))]})]})]})]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"column",children:Object(p.jsxs)("div",{style:{marginTop:"8px"},children:[Object(p.jsxs)("label",{style:{float:"left",marginBottom:"8px"},children:[" ",Object(p.jsx)("span",{children:"Select Image:"})]}),Object(p.jsx)("input",{type:"file",required:!0,onChange:this.onChangeFile})]})}),Object(p.jsx)("div",{className:"column",children:Object(p.jsx)("div",{style:{marginTop:"8px"},children:Object(p.jsx)("img",{style:{height:"185px",width:"175px"},src:e,className:"card-img-top"})})})]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"column",children:Object(p.jsxs)("div",{style:{marginTop:"8px"},children:[Object(p.jsxs)("label",{style:{float:"left",marginBottom:"8px"},children:[" ",Object(p.jsx)("span",{children:"Select Audio File:"})]}),Object(p.jsx)("input",{type:"file",required:!0,onChange:this.onChangeFile1})]})}),Object(p.jsx)("div",{className:"column",children:Object(p.jsx)("div",{style:{marginTop:"8px"},children:t&&Object(p.jsx)("audio",{controls:!0,autoPlay:!0,preload:"auto",src:t})})})]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{style:{margin:"15px",float:"left"},children:Object(p.jsx)("button",{type:"submit",className:"btn-primary",style:{color:"White"},children:"Submit"})}),Object(p.jsx)("div",{style:{margin:"15px",float:"right"},children:Object(p.jsx)("button",{type:"cancel",onClick:()=>{this.props.goBack()},className:"btn-primary",style:{color:"White"},children:"Cancel"})})]})]})})})]})})})})}}var ye=fe;let ve,Ne;function Se(e){var t,s;const[c,l]=Object(a.useState)([]),[i,n]=Object(a.useState)([]),[r,d]=Object(a.useState)(""),[h,b]=Object(a.useState)("ALL"),[m,u]=Object(a.useState)("ALL_TRACK"),{showaddtrack:O,showeditpage:g}=e,[f,y]=Object(a.useState)(0),[v,N]=Object(a.useState)(!1),[S,C]=Object(a.useState)([]),[w,T]=Object(a.useState)([]),[k,A]=Object(a.useState)(0),P=o.a;function D(e){if(e){let t=e.replace(/_/g," ");return t.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))}}Object(a.useEffect)((()=>{L(),F()}),[]);function B(e){y(1),j.a.get(o.c+"soundTrack/"+e).then((e=>{C(e.data),console.log(e.data)}))}function U(){if("ALL_TRACK"!==m){let e="?status="+Ne+"&track="+m;j.a.get(o.c+"soundTrack"+e).then((e=>{l([...e.data]),n([...e.data]),console.log(e.data)}))}else if("ALL"===Ne)L(),F();else{let e="?status="+Ne;j.a.get(o.c+"soundTrack"+e).then((e=>{l([...e.data]),n([...e.data]),console.log(e.data)}))}}function F(){j.a.get(o.c+"soundTrack?status=SOLD").then((e=>{let t=[...e.data];A(t.length),console.log(e.data)}))}function L(){j.a.get(o.c+"soundTrack").then((e=>{let t=[...e.data];l([...e.data]),n([...e.data]),T(t.length),u("ALL_TRACK")}))}function E(e){x.a.fire({title:"Are you sure?",text:"You will not be able to recover this Sound Track!",type:"Warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then((t=>{t.value&&j.a.delete(o.c+"soundTrack/"+e).then((e=>{x.a.fire("Deleted!","Your data has been deleted.","success"),console.log(e),Ne=h,U()}))}))}function R(e,t){let s={id:e,status:"PUBLISHED"};console.log("updateproject",s),j.a.post(o.c+"soundTrack/update",s).then((e=>{console.log(e.data),L()}))}function I(e,t){x.a.fire({title:"Reject Reason",input:"text",inputPlaceholder:"Enter your Reject Reason",confirmButtonText:"Submit",cancelButtonText:"Cancel"}).then((e=>{e.value&&(console.log("rejectedChange:",e.value),Ne=h,(e=>{let t={id:ve,rejectreason:e,status:"REJECT"};j.a.post(o.c+"soundTrack/update",t).then((e=>{console.log(e.data),Ne=h,U()})),x.a.fire({icon:"success",title:"Rejected",showConfirmButton:!1,timer:1500})})(e.value))})),ve=e}return Object(p.jsxs)("div",{children:[0===f?Object(p.jsx)("div",{className:"card",children:Object(p.jsx)("div",{className:"card-body ",children:Object(p.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-capitalize",children:Object(p.jsxs)("div",{className:"panel panel-default cart-border",children:[Object(p.jsxs)("div",{className:"panel-heading panel-style",children:[Object(p.jsx)("span",{children:Object(p.jsx)("h3",{style:{color:"#ffc701"},children:Object(p.jsxs)("span",{style:{float:"left"},children:["Total Track = ",w," \xa0 Total Sold ="," ",k," "]})})}),Object(p.jsx)("span",{onClick:()=>{O()},title:"Add Track",style:{float:"right",cursor:"pointer"},children:Object(p.jsx)("i",{className:"fa fa-plus"})})]}),Object(p.jsxs)("div",{style:{float:"left",margin:"12px"},children:[Object(p.jsx)("button",{onClick:()=>{j.a.get(o.c+"soundTrack?track=FEATURED").then((e=>{l([...e.data]),u("FEATURED"),console.log(e.data)}))},className:"btn-primary",style:{color:"White",margin:"0 20px",padding:"6px 32px",fontSize:"15px"},className:"FEATURED"===m?"active-link":"",children:"FEATURED"}),Object(p.jsx)("button",{onClick:()=>{j.a.get(o.c+"soundTrack?track=NON_FEATURED").then((e=>{l([...e.data]),u("NON_FEATURED"),console.log(e.data)}))},className:"btn-primary",style:{color:"White",margin:"0 20px",padding:"6px 32px",fontSize:"15px"},className:"NON_FEATURED"===m?"active-link":"",children:"NON FEATURED"}),Object(p.jsx)("button",{onClick:()=>{L()},className:"btn-primary",style:{color:"White",margin:"0 20px",padding:"6px 32px",fontSize:"15px"},className:"ALL_TRACK"===m?"active-link":"",children:"ALL TRACK"})]}),Object(p.jsx)("div",{className:"dropdownstyle",children:Object(p.jsxs)("select",{name:"pagestatus",onChange:function(e){let t=e.target.value;Ne=t,"SUBMITTED"===t||"PUBLISHED"===t||"SOLD"===t||"APPROVED"===t||"REJECT"===t?(b(t),U()):(b(t),L(),F())},id:"status",children:[Object(p.jsx)("option",{value:"ALL",children:"All"}),Object(p.jsx)("option",{value:"SUBMITTED",children:"SUBMITTED"}),Object(p.jsx)("option",{value:"PUBLISHED",children:"PUBLISHED"}),Object(p.jsx)("option",{value:"SOLD",children:"SOLD"}),Object(p.jsx)("option",{value:"REJECT",children:"REJECT"})]})}),Object(p.jsxs)("div",{children:["ALL"===h?Object(p.jsx)("div",{className:"panel-body",children:Object(p.jsx)("div",{className:"table-responsive table-style",children:Object(p.jsxs)("table",{id:"projects",children:[Object(p.jsxs)("thead",{children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Track Type"}),Object(p.jsx)("th",{children:"Genre"}),Object(p.jsx)("th",{children:"Composer"}),Object(p.jsx)("th",{children:"Uploaded By"}),Object(p.jsx)("th",{children:"Status"}),Object(p.jsx)("th",{children:"Price"}),Object(p.jsx)("th",{children:"Action"})]}),Object(p.jsx)("tr",{children:Object(p.jsx)("th",{colSpan:"12",children:Object(p.jsxs)("div",{className:"Search",children:[Object(p.jsx)("input",{type:"text",className:"inputetype",onChange:e=>{d(e.target.value)},placeholder:"Search By Name,Composer,Status,Track",name:"search"}),Object(p.jsx)("button",{type:"submit",className:"btn-primary",style:{color:"White"},children:Object(p.jsx)("i",{className:"fa fa-search"})})]})})})]}),Object(p.jsx)("tbody",{children:c.filter((e=>""===r||!!(e.name.toLowerCase().includes(r.toLowerCase())||e.tracktype.toLowerCase().includes(r.toLowerCase())||e.composer.toLowerCase().includes(r.toLowerCase())||e.status.toLowerCase().includes(r.toLowerCase())))).map(((e,t)=>Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.name}),Object(p.jsx)("td",{children:D(e.tracktype)}),Object(p.jsx)("td",{children:D(e.genre)}),Object(p.jsx)("td",{children:e.composer}),Object(p.jsx)("td",{children:e.uploadedby}),Object(p.jsx)("td",{children:e.status}),Object(p.jsx)("td",{children:e.price}),Object(p.jsxs)("td",{children:[Object(p.jsx)("span",{onClick:()=>{B(e.id)},title:"Track Detail",style:{color:"white"},children:Object(p.jsx)("button",{children:Object(p.jsx)("i",{className:"fa fa-info-circle"})})}),"\xa0 \xa0","SOLD"!==e.status?Object(p.jsx)("span",{onClick:()=>{E(e.id)},style:{color:"white"},children:Object(p.jsx)("button",{children:Object(p.jsx)("i",{className:"fa fa-trash"})})}):null,"\xa0 \xa0","SUBMITTED"===e.status?Object(p.jsxs)("span",{children:[Object(p.jsx)("span",{onClick:()=>{R(e.id,e.status)},title:"Approved",style:{color:"white"},children:Object(p.jsx)("button",{children:Object(p.jsx)("i",{className:"fa fa-thumbs-up"})})}),"\xa0 \xa0",Object(p.jsx)("span",{onClick:()=>{I(e.id,e.status)},title:"Rejected",style:{color:"white"},children:Object(p.jsx)("button",{children:Object(p.jsx)("i",{className:"fa fa-thumbs-down"})})})]}):null]})]},e.id)))})]})})}):null,"SUBMITTED"===h?Object(p.jsx)("div",{className:"panel-body",children:Object(p.jsx)("div",{className:"table-responsive table-style",children:Object(p.jsxs)("table",{id:"projects",children:[Object(p.jsxs)("thead",{children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Track Type"}),Object(p.jsx)("th",{children:"Genre"}),Object(p.jsx)("th",{children:"Composer"}),Object(p.jsx)("th",{children:"Uploaded By"}),Object(p.jsx)("th",{children:"Status"}),Object(p.jsx)("th",{children:"Price"}),Object(p.jsx)("th",{children:"Action"})]}),Object(p.jsx)("tr",{children:Object(p.jsx)("th",{colSpan:"12",children:Object(p.jsxs)("div",{className:"Search",children:[Object(p.jsx)("input",{type:"text",className:"inputetype",onChange:e=>{d(e.target.value)},placeholder:"Search By Name,Composer,Status,Track",name:"search"}),Object(p.jsx)("button",{type:"submit",className:"btn-primary",style:{color:"White"},children:Object(p.jsx)("i",{className:"fa fa-search"})})]})})})]}),Object(p.jsx)("tbody",{children:c.filter((e=>""===r||!!(e.name.toLowerCase().includes(r.toLowerCase())||e.tracktype.toLowerCase().includes(r.toLowerCase())||e.composer.toLowerCase().includes(r.toLowerCase())||e.status.toLowerCase().includes(r.toLowerCase())))).map(((e,t)=>Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.name}),Object(p.jsx)("td",{children:D(e.tracktype)}),Object(p.jsx)("td",{children:D(e.genre)}),Object(p.jsx)("td",{children:e.composer}),Object(p.jsx)("td",{children:e.uploadedby}),Object(p.jsx)("td",{children:e.status}),Object(p.jsx)("td",{children:e.price}),Object(p.jsxs)("td",{children:[Object(p.jsx)("span",{onClick:()=>{B(e.id)},title:"Track Detail",style:{color:"white"},children:Object(p.jsx)("button",{children:Object(p.jsx)("i",{className:"fa fa-info-circle"})})}),"\xa0 \xa0","FEATURED"===e.tracktype?Object(p.jsx)("span",{onClick:()=>{E(e.id)},style:{color:"white"},children:Object(p.jsx)("button",{children:Object(p.jsx)("i",{className:"fa fa-trash"})})}):null,"\xa0 \xa0",Object(p.jsx)("span",{onClick:()=>{R(e.id,e.status)},title:"Approved",style:{color:"white"},children:Object(p.jsx)("button",{children:Object(p.jsx)("i",{className:"fa fa-thumbs-up"})})}),Object(p.jsx)("span",{onClick:()=>{I(e.id,e.status)},title:"Rejected",style:{color:"white"},children:Object(p.jsx)("button",{children:Object(p.jsx)("i",{className:"fa fa-thumbs-down"})})})]})]},e.id)))})]})})}):null,"PUBLISHED"===h?Object(p.jsx)("div",{className:"panel-body",children:Object(p.jsx)("div",{className:"table-responsive table-style",children:Object(p.jsxs)("table",{id:"projects",children:[Object(p.jsxs)("thead",{children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Track Type"}),Object(p.jsx)("th",{children:"Genre"}),Object(p.jsx)("th",{children:"Composer"}),Object(p.jsx)("th",{children:"Uploaded By"}),Object(p.jsx)("th",{children:"Status"}),Object(p.jsx)("th",{children:"Price"}),Object(p.jsx)("th",{children:"Action"})]}),Object(p.jsx)("tr",{children:Object(p.jsx)("th",{colSpan:"12",children:Object(p.jsxs)("div",{className:"Search",children:[Object(p.jsx)("input",{type:"text",className:"inputetype",onChange:e=>{d(e.target.value)},placeholder:"Search By Name,Composer,Status,Track",name:"search"}),Object(p.jsx)("button",{type:"submit",className:"btn-primary",style:{color:"White"},children:Object(p.jsx)("i",{className:"fa fa-search"})})]})})})]}),Object(p.jsx)("tbody",{children:c.filter((e=>""===r||!!(e.name.toLowerCase().includes(r.toLowerCase())||e.tracktype.toLowerCase().includes(r.toLowerCase())||e.composer.toLowerCase().includes(r.toLowerCase())||e.status.toLowerCase().includes(r.toLowerCase())))).map(((e,t)=>Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.name}),Object(p.jsx)("td",{children:D(e.tracktype)}),Object(p.jsx)("td",{children:D(e.genre)}),Object(p.jsx)("td",{children:e.composer}),Object(p.jsx)("td",{children:e.uploadedby}),Object(p.jsx)("td",{children:e.status}),Object(p.jsx)("td",{children:e.price}),Object(p.jsxs)("td",{children:[Object(p.jsx)("span",{onClick:()=>{B(e.id)},title:"Track Detail",style:{color:"white"},children:Object(p.jsx)("button",{children:Object(p.jsx)("i",{className:"fa fa-info-circle"})})}),"\xa0 \xa0","FEATURED"===e.tracktype?Object(p.jsx)("span",{onClick:()=>{E(e.id)},style:{color:"white"},children:Object(p.jsx)("button",{children:Object(p.jsx)("i",{className:"fa fa-trash"})})}):null]})]},e.id)))})]})})}):null,"APPROVED"===h?Object(p.jsx)("div",{className:"panel-body",children:Object(p.jsx)("div",{className:"table-responsive table-style",children:Object(p.jsxs)("table",{id:"projects",children:[Object(p.jsxs)("thead",{children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Track Type"}),Object(p.jsx)("th",{children:"Genre"}),Object(p.jsx)("th",{children:"Composer"}),Object(p.jsx)("th",{children:"Uploaded By"}),Object(p.jsx)("th",{children:"Status"}),Object(p.jsx)("th",{children:"Price"}),Object(p.jsx)("th",{children:"Action"})]}),Object(p.jsx)("tr",{children:Object(p.jsx)("th",{colSpan:"12",children:Object(p.jsxs)("div",{className:"Search",children:[Object(p.jsx)("input",{type:"text",className:"inputetype",onChange:e=>{d(e.target.value)},placeholder:"Search By Name,Composer,Status,Track",name:"search"}),Object(p.jsx)("button",{type:"submit",className:"btn-primary",style:{color:"White"},children:Object(p.jsx)("i",{className:"fa fa-search"})})]})})})]}),Object(p.jsx)("tbody",{children:c.filter((e=>""===r||!!(e.name.toLowerCase().includes(r.toLowerCase())||e.tracktype.toLowerCase().includes(r.toLowerCase())||e.composer.toLowerCase().includes(r.toLowerCase())||e.status.toLowerCase().includes(r.toLowerCase())))).map(((e,t)=>Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.name}),Object(p.jsx)("td",{children:D(e.tracktype)}),Object(p.jsx)("td",{children:D(e.genre)}),Object(p.jsx)("td",{children:e.composer}),Object(p.jsx)("td",{children:e.uploadedby}),Object(p.jsx)("td",{children:e.status}),Object(p.jsx)("td",{children:e.price}),Object(p.jsxs)("td",{children:[Object(p.jsx)("span",{onClick:()=>{B(e.id)},title:"Track Detail",style:{color:"white"},children:Object(p.jsx)("button",{children:Object(p.jsx)("i",{className:"fa fa-info-circle"})})}),"\xa0 \xa0","FEATURED"===e.tracktype?Object(p.jsx)("span",{onClick:()=>{E(e.id)},style:{color:"white"},children:Object(p.jsx)("button",{children:Object(p.jsx)("i",{className:"fa fa-trash"})})}):null,"\xa0 \xa0",Object(p.jsx)("span",{onClick:()=>{R(e.id,e.status)},title:"Submited",style:{color:"white"},children:Object(p.jsx)("button",{children:Object(p.jsx)("i",{className:"fa fa-check"})})})]})]},e.id)))})]})})}):null,"SOLD"===h?Object(p.jsx)("div",{className:"panel-body",children:Object(p.jsx)("div",{className:"table-responsive table-style",children:Object(p.jsxs)("table",{id:"projects",children:[Object(p.jsxs)("thead",{children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Track Type"}),Object(p.jsx)("th",{children:"Genre"}),Object(p.jsx)("th",{children:"Composer"}),Object(p.jsx)("th",{children:"Uploaded By"}),Object(p.jsx)("th",{children:"Status"}),Object(p.jsx)("th",{children:"Price"}),Object(p.jsx)("th",{children:"Action"})]}),Object(p.jsx)("tr",{children:Object(p.jsx)("th",{colSpan:"12",children:Object(p.jsxs)("div",{className:"Search",children:[Object(p.jsx)("input",{type:"text",className:"inputetype",onChange:e=>{d(e.target.value)},placeholder:"Search By Name,Composer,Status,Track",name:"search"}),Object(p.jsx)("button",{type:"submit",className:"btn-primary",style:{color:"White"},children:Object(p.jsx)("i",{className:"fa fa-search"})})]})})})]}),Object(p.jsx)("tbody",{children:c.filter((e=>""===r||!!(e.name.toLowerCase().includes(r.toLowerCase())||e.tracktype.toLowerCase().includes(r.toLowerCase())||e.composer.toLowerCase().includes(r.toLowerCase())||e.status.toLowerCase().includes(r.toLowerCase())))).map(((e,t)=>Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.name}),Object(p.jsx)("td",{children:D(e.tracktype)}),Object(p.jsx)("td",{children:D(e.genre)}),Object(p.jsx)("td",{children:e.composer}),Object(p.jsx)("td",{children:e.uploadedby}),Object(p.jsx)("td",{children:e.status}),Object(p.jsx)("td",{children:e.price}),Object(p.jsxs)("td",{children:[Object(p.jsx)("span",{onClick:()=>{B(e.id)},title:"Track Detail",style:{color:"white"},children:Object(p.jsx)("button",{children:Object(p.jsx)("i",{className:"fa fa-info-circle"})})}),"\xa0 \xa0"]})]},e.id)))})]})})}):null,"REJECT"===h?Object(p.jsx)("div",{className:"panel-body",children:Object(p.jsx)("div",{className:"table-responsive table-style",children:Object(p.jsxs)("table",{id:"projects",children:[Object(p.jsxs)("thead",{children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Track Type"}),Object(p.jsx)("th",{children:"Genre"}),Object(p.jsx)("th",{children:"Composer"}),Object(p.jsx)("th",{children:"Uploaded By"}),Object(p.jsx)("th",{children:"Status"}),Object(p.jsx)("th",{children:"Price"}),Object(p.jsx)("th",{children:"Action"})]}),Object(p.jsx)("tr",{children:Object(p.jsx)("th",{colSpan:"12",children:Object(p.jsxs)("div",{className:"Search",children:[Object(p.jsx)("input",{type:"text",className:"inputetype",onChange:e=>{d(e.target.value)},placeholder:"Search By Name,Composer,Status,Track",name:"search"}),Object(p.jsx)("button",{type:"submit",className:"btn-primary",style:{color:"White"},children:Object(p.jsx)("i",{className:"fa fa-search"})})]})})})]}),Object(p.jsx)("tbody",{children:c.filter((e=>""===r||!!(e.name.toLowerCase().includes(r.toLowerCase())||e.tracktype.toLowerCase().includes(r.toLowerCase())||e.composer.toLowerCase().includes(r.toLowerCase())||e.status.toLowerCase().includes(r.toLowerCase())))).map(((e,t)=>Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.name}),Object(p.jsx)("td",{children:D(e.tracktype)}),Object(p.jsx)("td",{children:D(e.genre)}),Object(p.jsx)("td",{children:e.composer}),Object(p.jsx)("td",{children:e.uploadedby}),Object(p.jsx)("td",{children:e.status}),Object(p.jsx)("td",{children:e.price}),Object(p.jsxs)("td",{children:[Object(p.jsx)("span",{onClick:()=>{B(e.id)},title:"Track Detail",style:{color:"white"},children:Object(p.jsx)("button",{children:Object(p.jsx)("i",{className:"fa fa-info-circle"})})}),"\xa0 \xa0","FEATURED"===e.tracktype?Object(p.jsx)("span",{onClick:()=>{E(e.id)},style:{color:"white"},children:Object(p.jsx)("button",{children:Object(p.jsx)("i",{className:"fa fa-trash"})})}):null]})]},e.id)))})]})})}):null]})]})})})}):null,1===f?Object(p.jsx)("div",{className:"card",children:Object(p.jsx)("div",{className:"card-body ",children:Object(p.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-capitalize",children:Object(p.jsxs)("div",{className:"panel panel-default cart-border",children:[Object(p.jsx)("div",{className:"panel-heading panel-style",children:Object(p.jsxs)("h3",{style:{color:"#ffc701"},children:[Object(p.jsx)("span",{style:{float:"left"},children:"Track Details"}),Object(p.jsx)("span",{onClick:()=>{y(0)},style:{color:"white",float:"right",cursor:"pointer"},children:"Back"})]})}),Object(p.jsxs)("div",{className:"panel-body",children:[Object(p.jsx)("div",{style:{padding:"24px"},children:Object(p.jsx)("span",{style:{fontSize:"19px",float:"left"},children:"Details :"})}),Object(p.jsxs)("div",{className:"grid-container",children:[Object(p.jsxs)("div",{className:"grid-item",children:["Name: ",Object(p.jsx)("label",{children:S.name})]}),Object(p.jsxs)("div",{className:"grid-item",children:["Track Type:"," ",Object(p.jsx)("label",{children:D(S.tracktype)})]}),Object(p.jsxs)("div",{className:"grid-item",children:["Artist: ",Object(p.jsx)("label",{children:S.composer})]}),Object(p.jsxs)("div",{className:"grid-item",children:["Status: ",Object(p.jsx)("label",{children:S.status})]}),Object(p.jsxs)("div",{className:"grid-item",children:["Price: ",Object(p.jsx)("label",{children:S.price})]}),Object(p.jsxs)("div",{className:"grid-item",children:["Uploaded By: ",Object(p.jsx)("label",{children:S.uploadedby})]}),Object(p.jsxs)("div",{className:"grid-item",children:["Description: ",Object(p.jsx)("label",{children:S.description})]}),"REJECT"===S.status?Object(p.jsxs)("div",{className:"grid-item",children:["Reject Reason: ",Object(p.jsx)("label",{children:S.rejectreason})]}):null]}),Object(p.jsxs)("div",{className:"grid-container",children:[S.photo?Object(p.jsx)("div",{className:"grid-item",children:Object(p.jsx)("img",{style:{height:"100px",width:"100px"},src:P+(null===(t=S.photo)||void 0===t?void 0:t.docpath)})}):null,S.track?Object(p.jsx)("div",{className:"grid-item",children:Object(p.jsx)("audio",{controls:!0,preload:"auto",style:{width:"100%"},src:P+(null===(s=S.track)||void 0===s?void 0:s.docpath)})}):null]})]})]})})})}):null]})}let Ce=JSON.parse(localStorage.getItem("userData")).name,we=Math.random().toString(36).substring(7)+(new Date).getTime();class Te extends c.a.Component{constructor(e){super(e),this.getdatabyid=()=>{let e=this.props.trackId;j.a.get(o.c+"soundTrack/"+e).then((e=>{this.setState({data:e.data,scrolling:!1,tracktypess:e.data.tracktype,projectid:e.data.genre}),console.log(e.data)}))},this.getdata=()=>{j.a.get(o.c+"genre").then((e=>{this.setState({projectvalue:e.data,scrolling:!1}),console.log(e.data)}))},this.onChangeFile1=e=>{if(this.setState({selectedAudio:e.target.files[0]}),""!==e.target.files[0]){var t=new FileReader;t.onload=e=>{this.setState({imageUrl1:e.target.result})},t.readAsDataURL(e.target.files[0]),this.setState({track:{docname:e.target.files[0].name1,doctype:"track",docpath:"Soundtrack/"+we+e.target.files[0].name1,docdesc:"track"}})}},this.photoUpload=()=>{const e=o.c+"common/doc/upload",{selectedImage:t}=this.state;if(!t)return this.setState({handleResponse:{isSuccess:!1,message:"Please select image to upload."}}),!1;const s=new FormData;s.append("doc",t,we+this.state.selectedImage.name),s.append("name","soundtrack/Photo"),s.append("width","400"),s.append("height","400"),j.a.post(e,s).then((e=>{this.setState({handleResponse:{isSuccess:200===e.status,message:e.data.message}})})).catch((e=>{alert(e.message)}))},this.audioUpload=()=>{const e=o.c+"common/doc/upload",{selectedAudio:t}=this.state;if(!t)return this.setState({handleResponse:{isSuccess:!1,message:"Please select audio to upload."}}),!1;const s=new FormData;s.append("doc",t,we+this.state.selectedAudio.name),s.append("name","Soundtrack/Audio"),s.append("width",""),s.append("height",""),j.a.post(e,s).then((e=>{this.setState({handleResponse:{isSuccess:200===e.status,message:e.data.message}})})).catch((e=>{}))},this.onChangeFile=e=>{if(this.setState({selectedImage:e.target.files[0]}),""!==e.target.files[0]){var t=new FileReader;t.onload=e=>{this.setState({imageUrl:e.target.result})},t.readAsDataURL(e.target.files[0])}},this.state={fields:{},photo:{},selectedImage:null,selectedAudio:null,handleResponse:null,imageUrl:null,track:{},data:{},projectid:"",projectvalue:[],imageUrl1:null,docServer:o.a,tracktypess:""},this.handleChange=this.handleChange.bind(this),this.updatedata=this.updatedata.bind(this),this.handleStatusChange=this.handleStatusChange.bind(this),this.handletrackstatus=this.handletrackstatus.bind(this)}componentDidMount(){this.getdata(),this.getdatabyid()}handleChange(e){let t=this.state.fields;t[e.target.name]=e.target.value,this.setState({fields:t}),console.log(this.state)}handleStatusChange(e){let t=e.target.value;this.setState({projectid:t})}handletrackstatus(e){let t=e.target.value;this.setState({tracktypess:t})}updatedata(e){e.preventDefault();const t=JSON.parse(localStorage.getItem("userData")).name;let s={name:"",composer:"",description:"",price:""};this.photoUpload(),this.audioUpload(),console.log("this.state.fields"),console.log(this.state.fields),console.log(this.state.statustrack),console.log(this.state.projectid);let a={id:this.props.trackdetailId,name:this.state.fields.name,tracktype:this.state.tracktypess,composer:this.state.fields.composer,description:this.state.fields.description,price:this.state.fields.price,status:"SUBMITTED",genre:this.state.projectid,uploadedby:t,photo:{docname:this.state.selectedImage.name,doctype:"soundtrack",docpath:"soundtrack/Photo/"+we+this.state.selectedImage.name,docdesc:"soundtrack"},track:{docname:this.state.selectedAudio.name,docpath:"soundtrack/Audio/"+we+this.state.selectedAudio.name,docdesc:"track",doctype:"track"}};console.log("projectdata"),console.log(this.state.projectid),j.a.post(o.c+"soundTrack/update",a).then((e=>{this.setState({fields:s}),console.log(e)})),x.a.fire({icon:"success",title:"Submitted",showConfirmButton:!1,timer:1500}),this.props.goBack()}render(){var e,t;const{imageUrl:s,imageUrl1:a}=this.state;return Object(p.jsx)("div",{className:"card",children:Object(p.jsx)("div",{className:"card-body ",children:Object(p.jsx)("div",{className:"col-md-12 col-sm-12 col-xs-12 text-capitalize",children:Object(p.jsxs)("div",{className:"panel panel-default cart-border",children:[Object(p.jsx)("div",{className:"panel-heading panel-style",children:Object(p.jsx)("h3",{style:{color:"#ffc701"},children:Object(p.jsx)("span",{style:{float:"left"},children:"Edit Sound Track"})})}),Object(p.jsx)("div",{className:"panel-body",children:Object(p.jsx)("div",{className:"table-responsive table-style",children:Object(p.jsxs)("form",{method:"post",name:"userRegistrationForm",onSubmit:this.updatedata,children:[Object(p.jsxs)("div",{className:"row1",children:[Object(p.jsxs)("div",{className:"column1",children:[Object(p.jsxs)("div",{style:{marginTop:"19px"},children:[Object(p.jsx)("label",{style:{float:"left",marginBottom:"8px"},children:"Name"}),Object(p.jsx)("input",{type:"text",className:"textstyle",name:"name",id:"name",defaultValue:this.state.data.name,onChange:this.handleChange})]}),Object(p.jsxs)("div",{style:{marginTop:"25px"},children:[Object(p.jsx)("label",{style:{float:"left",marginBottom:"8px"},children:"Artist"}),Object(p.jsx)("input",{type:"text",className:"textstyle",name:"composer",id:"composer",defaultValue:this.state.data.composer,onChange:this.handleChange})]}),Object(p.jsxs)("div",{style:{marginTop:"25px"},children:[Object(p.jsx)("label",{style:{float:"left",marginBottom:"8px"},children:"Select Genre"}),Object(p.jsxs)("select",{required:!0,name:"status",value:this.state.projectid,onChange:this.handleStatusChange,id:"status",style:{borderRadius:"10px",padding:"8px",width:"100%"},children:[Object(p.jsx)("option",{value:"0",children:"Select"}),this.state.projectvalue.map((e=>Object(p.jsx)("option",{value:e.name,children:e.genre})))]})]}),"FEATURED"===this.state.tracktypess?Object(p.jsxs)("div",{style:{marginTop:"25px"},children:[Object(p.jsx)("label",{style:{float:"left",marginBottom:"8px"},children:"Price"}),Object(p.jsx)("input",{type:"number",className:"textstyle",id:"price",name:"price",defaultValue:this.state.data.price,onChange:this.handleChange})]}):null]}),Object(p.jsxs)("div",{className:"column1",children:[Object(p.jsxs)("div",{style:{marginTop:"19px"},children:[Object(p.jsx)("label",{style:{float:"left",marginBottom:"8px"},children:"Track Type"}),Object(p.jsxs)("select",{name:"tracktype",value:this.state.tracktypess,onChange:this.handletrackstatus,id:"trackstatus",style:{borderRadius:"10px",padding:"8px",width:"100%"},children:[Object(p.jsx)("option",{value:"NON_FEATURED",children:"NON_FEATURED"}),Object(p.jsx)("option",{value:"FEATURED",children:"FEATURED"})]})]}),Object(p.jsxs)("div",{style:{marginTop:"25px"},children:[Object(p.jsx)("label",{style:{float:"left",marginBottom:"8px"},children:"Description"}),Object(p.jsx)("input",{type:"text",className:"textstyle",id:"description",name:"description",defaultValue:this.state.data.description,onChange:this.handleChange})]}),Object(p.jsxs)("div",{style:{marginTop:"25px"},children:[Object(p.jsx)("label",{style:{float:"left",marginBottom:"8px"},children:"Uploaded By"}),Object(p.jsx)("input",{type:"text",readOnly:!0,className:"textstyle",id:"uploadedby",name:"uploadedby",value:Ce})]})]})]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"column",children:Object(p.jsxs)("div",{style:{marginTop:"8px"},children:[Object(p.jsxs)("label",{style:{float:"left",marginBottom:"8px"},children:[" ",Object(p.jsx)("span",{children:"Photo:"})]}),Object(p.jsx)("img",{style:{height:"200px",width:"200px"},src:this.state.docServer+(null===(e=this.state.data.photo)||void 0===e?void 0:e.docpath),className:"card-img-top"})]})}),Object(p.jsx)("div",{className:"column",children:Object(p.jsxs)("div",{style:{marginTop:"8px"},children:[Object(p.jsxs)("label",{style:{float:"left",marginBottom:"8px"},children:[" ",Object(p.jsx)("span",{children:"Audio:"})]}),Object(p.jsx)("audio",{controls:!0,preload:"auto",src:this.state.docServer+(null===(t=this.state.data.track)||void 0===t?void 0:t.docpath)})]})})]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"column",children:Object(p.jsxs)("div",{style:{marginTop:"8px"},children:[Object(p.jsxs)("label",{style:{float:"left",marginBottom:"8px"},children:[" ",Object(p.jsx)("span",{children:"Select Image:"})]}),Object(p.jsx)("input",{type:"file",onChange:this.onChangeFile})]})}),Object(p.jsx)("div",{className:"column",children:Object(p.jsx)("div",{style:{marginTop:"8px"},children:Object(p.jsx)("img",{style:{height:"185px",width:"175px"},src:s,className:"card-img-top"})})})]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"column",children:Object(p.jsxs)("div",{style:{marginTop:"8px"},children:[Object(p.jsxs)("label",{style:{float:"left",marginBottom:"8px"},children:[" ",Object(p.jsx)("span",{children:"Select Audio File:"})]}),Object(p.jsx)("input",{required:!0,type:"file",onChange:this.onChangeFile1})]})}),Object(p.jsx)("div",{className:"column",children:Object(p.jsx)("div",{style:{marginTop:"8px"},children:Object(p.jsx)("audio",{controls:!0,required:!0,accept:"audio/*",autoPlay:!0,preload:"auto",src:a})})})]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{style:{margin:"15px",float:"left"},children:Object(p.jsx)("button",{type:"submit",className:"btn-primary",style:{color:"White"},children:"Update"})}),Object(p.jsx)("div",{style:{margin:"15px",float:"right"},children:Object(p.jsx)("button",{type:"cancel",onClick:()=>{this.props.goBack()},className:"btn-primary",style:{color:"White"},children:"Cancel"})})]})]})})})]})})})})}}var ke=Te;let Ae=0;function Pe(){const[e,t]=Object(a.useState)(1),s=()=>{t(1)};return Object(p.jsx)(p.Fragment,{children:1===e?Object(p.jsx)(Se,{showaddtrack:()=>{t(2)},showeditpage:e=>{e>0&&(Ae=e,t(3))}}):2===e?Object(p.jsx)(ye,{goBack:s}):3===e?Object(p.jsx)(ke,{trackId:Ae,goBack:s}):null})}var De=s(738);function Be(){const[e,t]=Object(a.useState)(!1),[s,c]=Object(a.useState)(!1),[l,h]=Object(a.useState)(1),[j,b]=Object(a.useState)(""),m=Object(le.q)(),x=o.a;let u,O=JSON.parse(localStorage.getItem("photo")),g=null===O||void 0===O?void 0:O.docpath,f=null===O||void 0===O?void 0:O.urllink;function y(){c(!s)}return Object(a.useEffect)((()=>{null===localStorage.getItem("userData")?(localStorage.clear(),m("/")):(u=JSON.parse(localStorage.getItem("userData")),b(u.name))}),[]),Object(p.jsxs)("div",{id:"wrapper",children:[Object(p.jsxs)("main",{className:"main-container",children:[Object(p.jsx)("aside",{className:"sidebar",children:Object(p.jsxs)("div",{className:"sidebar__wrap",children:[Object(p.jsx)("div",{className:"sidebar__logo",children:Object(p.jsx)("a",{href:"/userHome",className:"sidebar__logo--img",children:Object(p.jsx)("img",{src:n.a,alt:"Logo main"})})}),Object(p.jsxs)("div",{className:"sidebar__list",children:[Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{children:Object(p.jsxs)("div",{onClick:()=>{h(1)},className:1===l?"active-link":"",children:[Object(p.jsx)("svg",{children:Object(p.jsx)("use",{href:d.a+"#icon-user-group"})}),"DashBoard"]})}),Object(p.jsx)("li",{children:Object(p.jsxs)("div",{onClick:()=>{h(2)},className:2===l?"active-link":"",children:[Object(p.jsx)("svg",{children:Object(p.jsx)("use",{href:d.a+"#icon-folder"})}),"User"]})}),Object(p.jsx)("li",{children:Object(p.jsxs)("div",{onClick:()=>{h(3)},className:3===l?"active-link":"",children:[Object(p.jsx)("svg",{className:"icon-atom",children:Object(p.jsx)("use",{href:d.a+"#icon-atom"})}),"All Projects"]})}),Object(p.jsx)("li",{children:Object(p.jsxs)("div",{onClick:()=>{h(4)},className:4===l?"active-link":"",children:[Object(p.jsx)("svg",{children:Object(p.jsx)("use",{href:d.a+"#icon-chat"})}),"ARM"]})}),Object(p.jsx)("li",{children:Object(p.jsxs)("div",{onClick:()=>{h(5)},className:5===l?"active-link":"",children:[Object(p.jsx)("svg",{children:Object(p.jsx)("use",{href:d.a+"#icon-folder"})}),"Genre"]})}),Object(p.jsx)("li",{children:Object(p.jsxs)("div",{onClick:()=>{h(6)},className:6===l?"active-link":"",children:[Object(p.jsx)("img",{src:De.a,alt:"image",width:"25px",height:"25px"}),"Tracks"]})}),Object(p.jsx)("li",{children:Object(p.jsx)("p",{className:"sidebar_user_prfile",onClick:y,children:"My Profile"})})]}),Object(p.jsxs)("div",{className:"sidebar__user",onClick:y,children:[Object(p.jsx)("div",{className:"sidebar__user--img",children:null!==g?Object(p.jsx)("img",{src:x+g,alt:"User"}):Object(p.jsx)("img",{src:f,alt:"Admin"})}),Object(p.jsxs)("div",{className:"sidebar__user--text",children:[Object(p.jsx)("h3",{children:j}),Object(p.jsx)("p",{children:"Admin Profile"})]})]})]})]})}),Object(p.jsx)("div",{className:"con",children:Object(p.jsx)("div",{className:"page-margin",children:1===l?Object(p.jsx)(de,{}):2===l?Object(p.jsx)(F,{}):3===l?Object(p.jsx)(q,{}):4===l?Object(p.jsx)(se,{}):5===l?Object(p.jsx)(ue,{}):6===l?Object(p.jsx)(Pe,{}):null})})]}),Object(p.jsx)(i.a,{isOpen:e,onRequestClose:function(){t(!e)},contentLabel:"My dialog",className:"Modal",overlayClassName:"Overlay",children:Object(p.jsx)(r.a,{})}),Object(p.jsx)(i.a,{isOpen:s,onRequestClose:y,contentLabel:"My dialog",className:"Modal",overlayClassName:"Overlay",children:Object(p.jsx)(ce,{})})]})}i.a.setAppElement("#root")},675:function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));s(1),s(676);var a=s(2);function c(){return Object(a.jsx)("div",{className:"comingSoonPage",style:{background:"linear-gradient(to right, rgba(10, 10, 10, 0.8), rgba(60, 50, 10, 0.8)), url(images/image-17.png)",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"},children:Object(a.jsx)("div",{className:"innerMsg",children:Object(a.jsx)("h1",{children:"We are launching soon"})})})}},676:function(e,t,s){},738:function(e,t,s){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAIAAAABc2X6AAAABmJLR0QA/wD/AP+gvaeTAAAEbElEQVR4nGP0s2EYUYBpoB1AbzDq4eEORj083MGoh4c7YMEqysMrGBBZYu0QIiahwMLKRtCU///+vXv77MKZPeuXdT9+cI3ajqQmYMRseEhIKTVN2CMuqUiGcb9+fu9vjj12cC0VnEYbgJ6kmZiYK9vWk+dbBgYGNnbOgppFcoraFDuMVgDdw+a2/grKepSYyM7BlVk8nZGRkRJDaAfQPaxn5ES5oVr6tg5uMZSbQwuAXmjxCYhSxdyk3D5Ta1+qGEUS+Pvn98vn94/uX33/zkWsCtA9TK2kyMcvYu0YShWjyAAhsVU7N86cNTHv75/faFLDsx5mZGT0CMhIy5+EKTU8PQwB7v7piir6aILD2cOMjIyW9sFogsPZwwwMDBJSSmgiw9zDmO3iYe5hTDDq4eEORpyHsfeH6Qb+/fv7/u2L1y8fvXvz9M2rJ8iML5/fGZl7lDasYGZhpaKN9PAw3FdvXz95+/opMuPDuxd///7BpfH4wXWXzx8wMHWlomNo5eFvXz8tmV199+Y5gr7CD75++UBdh9HKw2sWt21dO4VGhlMCaFVovXzxgEYmUwhGXCk96uHhDga4HmZiYhYUlhAVlxcWlRYWlREVlxMRkxESkb5/58KM3ixa2EgnD/PwCopLKQmJSAkJSyIzRMXlmJmxuOHdm6c0cgnNPTxv3WMBIQmsvhoQQHN3CIlID6ox6hFXaI16eLiDUQ8PdzDq4eEOBqmHf3z/SiOTB6OHf/z4emTfShoZTquW1v9//4hX/OXTu0N7lt+7ff7ThzefPr55/PD6l0/vaOQwWnn4/bsXRKq8ceVYc7kv7XyIBqjs4R/fv3x49/Lo/tXXLx0hRv2f37+66yPo5lsGqnj4x4+v65Z2Ht2/5uWze79//yRJ76MHV9+8eoxHARsbB2WuQweUevj37591BS43r54gT/v7twRSvpySDnkm4wKUltKH96wg27cMDAwy8hp4ZI0tPMleMYYLUOrh2zdO45Hl4ubH3xkWl1S0sA3AKiUmIZ9dNpsix2EDtK2H9YwcCaoprF3s6BHHxMQMF2Fj53T1Se6ZfVpYVJrqTqI0D6trW2xbNxWrFDMLa1h8DUETODh5CqoXJuf0Pbh76evXjwKC4kqqBmzsnBQ6DBeg1MO2zhG7t8y9cv4AmjgbG0de1XxldWMizeHlF9YlIjlQDij1MDMzS333to2r+o/sXfn86R1GBkZRCXl9Exe/sAKqlzdUAVSoh9nYOUNjq0Jjqyg3ig5gMHYeaApGPTzcwYj3MOZ62yEN/vz+hSaC7uEXz+7RyzH0AC+e3UUTQffwsYNr////Ty/30Bb8////2AH0/TXoHr5/+8LOjTPp5STagu0bpj+4ewlNkFldDl3d+dO7+AVEldWNB9WsH0ng////2zdMnzOpAHNoDctGLQhQVNG3cggRl1QkZmfa4AF/fv968eze0f2rH967jFUBTg8PVzDi6+FhD0Y9PNzBqIeHOxj18HAHox4e7mDUw8MdAACamGbja1+dBQAAAABJRU5ErkJggg=="},739:function(e,t,s){},740:function(e,t,s){},810:function(e,t,s){},811:function(e,t,s){},812:function(e,t,s){}}]);
//# sourceMappingURL=9.c8abb1d9.chunk.js.map